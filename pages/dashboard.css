:root{
    --bg-base:#0c0c18;
    --bg-card:#14142a;
    --bg-elevated:#1c1c3a;
    --bg-hover:#242450;
    --accent:#6366f1;
    --accent-light:#818cf8;
    --accent-glow:rgba(99,102,241,.3);
    --success:#10b981;
    --warning:#f59e0b;
    --danger:#ef4444;
    --text-primary:#f8fafc;
    --text-secondary:#cbd5e1;
    --text-muted:#64748b;
    --border:#1e293b;
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{height:100%;min-height:100dvh;min-height:-webkit-fill-available}
body{
    font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    background:var(--bg-base);
    color:var(--text-primary);
    height:100%;min-height:100dvh;min-height:-webkit-fill-available;
    -webkit-font-smoothing:antialiased;
    -webkit-text-size-adjust:100%;
    -webkit-tap-highlight-color:transparent;
    line-height:1.5;
    overflow-x:hidden;
}
button,a,input,select{-webkit-tap-highlight-color:transparent;touch-action:manipulation}

/* ── Pull to Refresh ── */
.ptr-indicator{
    position:fixed;
    top:0;left:50%;
    transform:translateX(-50%) translateY(-50px);
    width:40px;height:40px;
    border-radius:50%;
    background:var(--bg-elevated);
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 4px 20px rgba(0,0,0,.4);
    z-index:9999;
    transition:transform .2s ease;
    border:1px solid var(--border);
    opacity:0;
    pointer-events:none;
}
.ptr-indicator.show{opacity:1}
.ptr-indicator.pulling{transform:translateX(-50%) translateY(24px)}
.ptr-indicator.refreshing{transform:translateX(-50%) translateY(24px)}
.ptr-indicator svg{width:22px;height:22px;fill:var(--accent);transition:transform .3s}
.ptr-indicator.pulling svg{transform:rotate(180deg)}
.ptr-indicator.refreshing svg{animation:ptr-spin .6s linear infinite}
@keyframes ptr-spin{to{transform:rotate(360deg)}}

/* ── Screens ── */
.screen{
    position:fixed;
    inset:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:24px;
    padding-top:calc(24px + env(safe-area-inset-top));
    padding-bottom:calc(24px + env(safe-area-inset-bottom));
    transition:opacity .25s ease-out,transform .25s ease-out;
}
.screen.hidden{opacity:0;pointer-events:none;transform:scale(.97)}

/* ── Idle Screen ── */
#idle .pulse-ring{
    width:88px;
    height:88px;
    border-radius:50%;
    border:2px solid rgba(255,255,255,.1);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    margin-bottom:20px;
}
#idle .pulse-ring::before{
    content:'';
    position:absolute;
    inset:0;
    border-radius:50%;
    border:2px solid rgba(255,255,255,.08);
    animation:pulse 2s ease-out infinite;
}
@keyframes pulse{0%{transform:scale(1);opacity:.5}100%{transform:scale(1.6);opacity:0}}
#idle .nfc-icon svg{width:36px;height:36px;fill:rgba(255,255,255,.4)}
/* ── Status Header ── */
.status-header{
    display:flex;
    align-items:center;
    gap:16px;
    width:100%;
    max-width:360px;
    padding:16px;
    background:rgba(255,255,255,.03);
    border-radius:16px;
    margin-bottom:20px;
}
.status-icon{
    width:48px;
    height:48px;
    border-radius:12px;
    background:rgba(255,255,255,.08);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    cursor:pointer;
    flex-shrink:0;
}
.status-icon:active{transform:scale(.95)}
.status-icon svg{width:24px;height:24px;fill:rgba(255,255,255,.5)}
.status-icon.notif-on{background:rgba(34,197,94,.15)}
.status-icon.notif-on svg{fill:#4ade80}
.status-dot{
    position:absolute;
    top:4px;right:4px;
    width:10px;height:10px;
    border-radius:50%;
    background:#ef4444;
    border:2px solid #1a1a2e;
    display:none;
}
.status-dot.on{background:#4ade80;display:block}
.status-dot.off{background:#ef4444;display:block}
.status-text{flex:1;min-width:0}
.status-text h2{font-size:16px;font-weight:600;color:rgba(255,255,255,.9);margin:0}
.status-text p{font-size:12px;color:rgba(255,255,255,.4);margin:0;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.status-stat{
    text-align:center;
    padding:8px 12px;
    background:rgba(255,255,255,.05);
    border-radius:10px;
    cursor:pointer;
    flex-shrink:0;
}
.status-stat:active{transform:scale(.95)}
.stat-num{display:block;font-size:20px;font-weight:700;color:#fff}
.stat-label{font-size:11px;color:rgba(255,255,255,.4);text-transform:uppercase;letter-spacing:.5px}

/* ── QR Card ── */
.qr-card{
    background:rgba(255,255,255,.03);
    border-radius:20px;
    padding:16px;
    width:100%;
    max-width:280px;
    margin-bottom:24px;
}
.qr-card-header{
    display:flex;
    align-items:center;
    gap:8px;
    margin-bottom:12px;
}
.qr-card-header select{
    flex:1;
    background:rgba(255,255,255,.08) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='rgba(255,255,255,0.6)'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") no-repeat right 10px center;
    color:#fff;
    border:none;
    border-radius:8px;
    padding:10px 32px 10px 12px;
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    outline:none;
    -webkit-appearance:none;
    appearance:none;
    cursor:pointer;
}
.qr-card-header select option{background:#252538;color:#fff}
.qr-share-btn{
    width:40px;height:40px;
    border-radius:10px;
    border:none;
    background:rgba(255,255,255,.08);
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
}
.qr-share-btn:active{transform:scale(.95)}
.qr-share-btn svg{width:18px;height:18px;fill:rgba(255,255,255,.6)}
.qr-canvas-wrap{
    background:#fff;
    border-radius:14px;
    padding:12px;
    display:block;
    cursor:pointer;
    margin:0 auto;
    width:fit-content;
}
.qr-canvas-wrap:active{transform:scale(.97)}
.qr-canvas-wrap canvas{display:block}
.qr-copy-btn{
    width:100%;
    margin-top:12px;
    padding:12px;
    border:none;
    border-radius:10px;
    background:rgba(255,255,255,.08);
    color:rgba(255,255,255,.7);
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
}
.qr-copy-btn:active{transform:scale(.98)}
.qr-copy-btn svg{width:16px;height:16px;fill:currentColor}
.qr-copy-btn.copied{background:rgba(34,197,94,.15);color:#4ade80}
.qr-btn-row{display:flex;gap:8px;margin-top:12px}
.qr-btn-row .qr-copy-btn{flex:1}

/* ── Action Grid ── */
.action-grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    width:100%;
    max-width:320px;
}
.action-btn{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:6px;
    padding:16px 8px;
    border-radius:14px;
    border:none;
    background:rgba(255,255,255,.05);
    color:rgba(255,255,255,.7);
    font-family:inherit;
    font-size:11px;
    font-weight:500;
    cursor:pointer;
    position:relative;
}
.action-btn:active{transform:scale(.95);background:rgba(255,255,255,.08)}
.action-btn svg{width:22px;height:22px;fill:currentColor;opacity:.7}
.action-btn span{opacity:.8}
.action-btn.active{background:rgba(249,115,22,.15);color:#fdba74}
.action-btn.active svg{fill:#fdba74;opacity:1}
.action-badge{
    position:absolute;
    top:6px;right:6px;
    min-width:18px;height:18px;
    border-radius:9px;
    background:#f97316;
    color:#fff;
    font-size:10px;
    font-weight:700;
    display:none;
    align-items:center;
    justify-content:center;
    padding:0 5px;
}
.action-badge.show{display:flex}

/* ── Version Tag ── */
.version-tag{
    position:fixed;
    bottom:8px;
    right:12px;
    font-size:10px;
    color:rgba(255,255,255,.15);
    cursor:pointer;
    padding:4px 8px;
}
.version-tag:active{color:rgba(255,255,255,.4)}

/* ── Settings Modal ── */
.settings-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:flex-end;
    justify-content:center;
    z-index:200;
    padding:0;
}
.settings-modal.show{display:flex}
.settings-sheet{
    background:#252538;
    border-radius:20px 20px 0 0;
    padding:24px;
    padding-bottom:calc(24px + env(safe-area-inset-bottom));
    width:100%;
    max-width:500px;
    max-height:80vh;
    overflow-y:auto;
}
.settings-title{font-size:18px;font-weight:600;margin-bottom:20px;text-align:center}
.settings-item{
    display:flex;
    align-items:center;
    gap:14px;
    padding:14px;
    background:rgba(255,255,255,.05);
    border-radius:12px;
    margin-bottom:10px;
    cursor:pointer;
}
.settings-item:active{background:rgba(255,255,255,.08)}
.settings-item svg{width:22px;height:22px;fill:rgba(255,255,255,.5);flex-shrink:0}
.settings-item-text{flex:1}
.settings-item-text strong{display:block;font-size:14px;font-weight:500}
.settings-item-text small{font-size:12px;color:rgba(255,255,255,.4)}
.settings-close{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:rgba(255,255,255,.1);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    margin-top:10px;
}

/* ── Legacy support ── */
.idle-btn{
    font-size:13px;
    padding:10px 18px;
    border-radius:10px;
    cursor:pointer;
    border:none;
    font-family:inherit;
    font-weight:500;
}
.idle-btn:active{transform:scale(.95)}
.notif-on{background:rgba(34,197,94,.15);color:#4ade80}
.notif-off{background:rgba(255,255,255,.08);color:rgba(255,255,255,.5)}
.notif-test{background:rgba(34,197,94,.1);color:#4ade80;padding:10px 12px}
.leads-btn{background:rgba(255,255,255,.08);color:rgba(255,255,255,.6)}
.qs-btn{background:rgba(249,115,22,.15);color:#fb923c}
.qs-active{background:rgba(249,115,22,.25);color:#fdba74}
.analytics-btn{background:rgba(251,191,36,.12);color:#fbbf24}
.storage-btn{background:rgba(20,184,166,.12);color:#2dd4bf}
.review-btn{background:rgba(249,115,22,.12);color:#fb923c}
.review-btn.has-items{background:rgba(249,115,22,.25);color:#fdba74;position:relative}
.review-badge{position:absolute;top:-4px;right:-4px;background:#f97316;color:#fff;font-size:11px;font-weight:700;min-width:24px;height:24px;border-radius:12px;display:flex;align-items:center;justify-content:center;padding:0 5px}
.default-btn{background:rgba(236,72,153,.12);color:#f472b6}
.default-active{background:rgba(236,72,153,.2);color:#f9a8d4}
.install-btn{background:linear-gradient(135deg,#f97316,#8b5cf6);color:#fff;display:flex;align-items:center;gap:6px}
.install-btn svg{width:16px;height:16px;fill:currentColor}
.install-btn.installed{background:rgba(34,197,94,.15);color:#4ade80}

/* ── Install Modal ── */
.install-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:250;
    padding:24px;
    backdrop-filter:blur(8px);
    -webkit-backdrop-filter:blur(8px);
}
.install-modal.show{display:flex}
.install-modal-content{
    background:linear-gradient(180deg,#252538,#1a1a2e);
    border-radius:24px;
    padding:32px 24px;
    max-width:340px;
    width:100%;
    text-align:center;
    border:1px solid rgba(255,255,255,.1);
}
.install-icon{
    width:80px;
    height:80px;
    border-radius:20px;
    background:linear-gradient(135deg,#f97316,#8b5cf6);
    display:flex;
    align-items:center;
    justify-content:center;
    margin:0 auto 20px;
    box-shadow:0 8px 32px rgba(249,115,22,.3);
}
.install-icon svg{width:40px;height:40px;fill:#fff}
.install-modal h3{font-size:22px;font-weight:700;margin-bottom:8px}
.install-modal p{font-size:14px;color:rgba(255,255,255,.6);margin-bottom:24px;line-height:1.6}
.install-steps{text-align:left;margin-bottom:24px}
.install-step{
    display:flex;
    align-items:center;
    gap:14px;
    padding:14px 0;
    border-bottom:1px solid rgba(255,255,255,.06);
}
.install-step:last-child{border-bottom:none}
.install-step-num{
    width:28px;
    height:28px;
    border-radius:50%;
    background:rgba(249,115,22,.2);
    color:#fdba74;
    font-size:13px;
    font-weight:700;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-shrink:0;
}
.install-step-text{font-size:14px;color:rgba(255,255,255,.8)}
.install-step-text svg{width:18px;height:18px;fill:#60a5fa;vertical-align:middle;margin:0 2px}
.install-primary-btn{
    width:100%;
    padding:16px;
    border:none;
    border-radius:14px;
    background:linear-gradient(135deg,#f97316,#8b5cf6);
    color:#fff;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    margin-bottom:12px;
}
.install-primary-btn:active{transform:scale(.98);opacity:.9}
.install-secondary-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:rgba(255,255,255,.08);
    color:rgba(255,255,255,.6);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
}
.install-secondary-btn:active{opacity:.7}
.install-features{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-bottom:24px;
}
.install-feature{text-align:center}
.install-feature svg{width:24px;height:24px;fill:#4ade80;margin-bottom:6px}
.install-feature span{display:block;font-size:11px;color:rgba(255,255,255,.5)}

.default-badge{
    margin-top:8px;
    font-size:12px;
    padding:6px 14px;
    border-radius:8px;
    background:rgba(236,72,153,.15);
    color:#f472b6;
    display:none;
}
.default-badge.show{display:inline-block}

/* ── Fullscreen QR ── */
.qr-fullscreen{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.9);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:200;
    flex-direction:column;
    gap:24px;
}
.qr-fullscreen.show{display:flex}
.qr-fullscreen .qr-full-wrap{background:#fff;border-radius:20px;padding:24px}
.qr-fullscreen .qr-full-wrap canvas{display:block}
.qr-fullscreen .qr-card-name{color:#fff;font-size:18px;font-weight:600}
.qr-fullscreen .qr-close{
    background:rgba(255,255,255,.1);
    border:none;
    color:#fff;
    font-size:15px;
    padding:12px 28px;
    border-radius:12px;
    cursor:pointer;
    font-family:inherit;
    font-weight:500;
}
.qr-fullscreen .qr-close:active{opacity:.7}

/* ── Picker Screen ── */
#picker{background:linear-gradient(180deg,#1a1a2e,#252538)}
.pick-alert{
    font-size:11px;
    color:#4ade80;
    text-transform:uppercase;
    letter-spacing:3px;
    margin-bottom:8px;
    animation:pickAlertPulse 1.5s ease-in-out infinite;
}
@keyframes pickAlertPulse{0%,100%{opacity:1}50%{opacity:.5}}
.pick-title{font-size:24px;font-weight:700;margin-bottom:6px}
.pick-visitor{font-size:13px;color:rgba(255,255,255,.4);margin-bottom:28px}
.pick-cards{display:flex;flex-direction:column;gap:12px;width:100%;max-width:360px}
.pick-btn{
    width:100%;
    padding:18px 20px;
    border-radius:16px;
    border:none;
    color:#fff;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    text-align:left;
    position:relative;
    opacity:0;
    transform:translateY(20px);
    box-shadow:0 4px 20px rgba(0,0,0,.3);
    transition:transform .15s ease,box-shadow .15s ease;
}
.pick-btn.animate-in{animation:pickBtnIn .4s cubic-bezier(.34,1.56,.64,1) forwards}
@keyframes pickBtnIn{to{opacity:1;transform:translateY(0)}}
.pick-btn:active{transform:scale(.97);box-shadow:0 2px 10px rgba(0,0,0,.2)}
.pick-btn small{display:block;font-weight:400;font-size:12px;opacity:.7;margin-top:2px}
.pick-btn::after{content:'\2192';position:absolute;right:18px;top:50%;transform:translateY(-50%);font-size:18px;opacity:.6;transition:transform .2s ease}
.pick-btn:hover::after{transform:translateY(-50%) translateX(4px)}
.skip-btn{
    margin-top:24px;
    padding:14px 28px;
    border:none;
    border-radius:12px;
    background:rgba(255,255,255,.06);
    color:rgba(255,255,255,.4);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
    opacity:0;
    animation:skipBtnIn .3s ease .6s forwards;
}
@keyframes skipBtnIn{to{opacity:1}}
.skip-btn:active{opacity:.7;transform:scale(.97)}

/* ── Sent Screen ── */
#sent{transition:opacity .3s ease,transform .3s ease}
#sent .check{
    width:80px;
    height:80px;
    border-radius:50%;
    background:rgba(34,197,94,.15);
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:20px;
    position:relative;
    animation:checkPop .5s cubic-bezier(.34,1.56,.64,1) forwards;
}
@keyframes checkPop{from{transform:scale(0)}to{transform:scale(1)}}
#sent .check::before{
    content:'';
    position:absolute;
    inset:-4px;
    border-radius:50%;
    border:2px solid rgba(74,222,128,.3);
    animation:checkRing .6s ease-out forwards;
}
@keyframes checkRing{from{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}
#sent .check svg{
    width:40px;height:40px;fill:#4ade80;
    stroke:#4ade80;stroke-width:0;
    animation:checkDraw .4s ease .2s forwards;
    stroke-dasharray:50;stroke-dashoffset:50;
}
@keyframes checkDraw{to{stroke-dashoffset:0}}
#sent h2{font-size:22px;font-weight:600;margin-bottom:4px;animation:fadeUp .4s ease .15s both}
#sent .sent-sub{font-size:14px;color:rgba(255,255,255,.5);animation:fadeUp .4s ease .2s both}
.sent-auto{font-size:13px;color:rgba(255,255,255,.4);margin-top:6px;animation:fadeUp .4s ease .25s both}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.return-progress{
    width:120px;height:3px;
    background:rgba(255,255,255,.1);
    border-radius:3px;
    margin-top:20px;
    overflow:hidden;
    animation:fadeUp .4s ease .3s both;
}
.return-progress-bar{
    height:100%;
    background:linear-gradient(90deg,#4ade80,#22c55e);
    border-radius:3px;
    animation:returnProgress 1.5s linear forwards;
}
@keyframes returnProgress{from{width:0}to{width:100%}}
.return-text{font-size:11px;color:rgba(255,255,255,.3);margin-top:8px;animation:fadeUp .4s ease .35s both}
.lead-card{
    background:rgba(255,255,255,.05);
    border-radius:14px;
    padding:18px;
    text-align:left;
    margin-top:20px;
    max-width:340px;
    width:100%;
}
.lead-card .lc-label{font-size:12px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.4);margin-bottom:8px}
.lead-card .lc-name{font-size:17px;font-weight:600}
.lead-card .lc-company{font-size:14px;color:rgba(255,255,255,.5);margin-top:2px}
.lead-card .lc-contact{margin-top:10px;font-size:14px}
.lead-card a{color:#4ade80;text-decoration:none}
.lead-card a:active{opacity:.7}
.lead-card img{width:100%;border-radius:10px;margin-top:12px;max-height:200px;object-fit:contain}

/* ── Card Preview Modal ── */
.preview-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter:blur(10px);
    z-index:2000;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:20px;
    opacity:0;
    pointer-events:none;
    transition:opacity .3s ease;
}
.preview-modal.show{opacity:1;pointer-events:auto}
.preview-modal.show .preview-phone{animation:previewSlideUp .4s cubic-bezier(.34,1.56,.64,1) forwards}
.preview-phone{
    width:100%;
    max-width:340px;
    height:70vh;
    max-height:680px;
    background:#000;
    border-radius:40px;
    padding:12px;
    box-shadow:0 25px 80px rgba(0,0,0,.5),inset 0 0 0 3px #333;
    position:relative;
    transform:translateY(40px);
    opacity:0;
}
@keyframes previewSlideUp{to{transform:translateY(0);opacity:1}}
.preview-phone::before{
    content:'';
    position:absolute;
    top:8px;left:50%;
    transform:translateX(-50%);
    width:80px;height:24px;
    background:#1a1a1a;
    border-radius:14px;
    z-index:10;
}
.preview-iframe{
    width:100%;
    height:100%;
    border:none;
    border-radius:30px;
    background:#fff;
}
.preview-close{
    position:absolute;
    top:-60px;right:0;
    width:48px;height:48px;
    border-radius:50%;
    background:rgba(255,255,255,.1);
    border:none;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
}
.preview-close:active{transform:scale(.9)}
.preview-close svg{width:24px;height:24px;fill:#fff}
.preview-actions{
    display:flex;
    gap:12px;
    margin-top:20px;
    opacity:0;
    animation:fadeUp .3s ease .3s forwards;
}
.preview-action-btn{
    padding:12px 24px;
    border-radius:12px;
    border:none;
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:8px;
}
.preview-action-btn.primary{background:#4ade80;color:#000}
.preview-action-btn.secondary{background:rgba(255,255,255,.1);color:#fff}
.preview-action-btn:active{transform:scale(.95)}
.preview-action-btn svg{width:18px;height:18px;fill:currentColor}

/* ── Leads Dashboard ── */
#leads{
    display:block;
}
.leads-header{
    position:sticky;
    top:0;
    background:rgba(26,26,46,.95);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:16px 20px;
    padding-top:calc(16px + env(safe-area-inset-top));
    display:flex;
    align-items:center;
    gap:12px;
    border-bottom:1px solid rgba(255,255,255,.06);
    z-index:10;
}
.leads-back{
    width:40px;
    height:40px;
    border-radius:50%;
    background:rgba(255,255,255,.08);
    border:none;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
}
.leads-back:active{transform:scale(.9);opacity:.8}
.leads-back svg{width:20px;height:20px;fill:rgba(255,255,255,.6)}

/* ── Floating Back Button (thumb-friendly) ── */
.float-back{
    position:fixed;
    bottom:24px;
    left:20px;
    height:48px;
    padding:0 18px 0 14px;
    border-radius:24px;
    background:linear-gradient(135deg,#f97316,#ea580c);
    border:none;
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    box-shadow:0 4px 20px rgba(249,115,22,.4),0 2px 8px rgba(0,0,0,.2);
    z-index:50;
    margin-bottom:env(safe-area-inset-bottom);
    animation:floatIn .4s ease;
    transition:transform .2s,box-shadow .2s;
}
@keyframes floatIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.float-back:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(249,115,22,.5),0 4px 12px rgba(0,0,0,.2)}
.float-back:active{transform:scale(.95)}
.float-back svg{width:20px;height:20px;fill:#fff;flex-shrink:0}
.float-back span{color:#fff;font-size:14px;font-weight:600;white-space:nowrap}

/* Swipe hint indicator */
.swipe-hint{
    position:fixed;
    left:0;top:50%;
    transform:translateY(-50%);
    width:4px;
    height:80px;
    background:linear-gradient(180deg,transparent,rgba(249,115,22,.3),transparent);
    border-radius:0 4px 4px 0;
    pointer-events:none;
    opacity:0;
    transition:opacity .3s;
}
.panel-swiping .swipe-hint{opacity:1}

/* ── Cards Management ── */
#cardsPanel{padding:0}
#cardsList{
    display:flex;
    gap:24px;
    overflow-x:auto;
    scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling:touch;
    padding:12px 20px 24px;
    scrollbar-width:none;
}
#cardsList::-webkit-scrollbar{display:none}

/* ── Business Card ── */
.bcard{
    flex:0 0 330px;
    scroll-snap-align:center;
    border-radius:22px;
    overflow:hidden;
    position:relative;
    box-shadow:
        0 2px 8px rgba(0,0,0,.2),
        0 12px 40px rgba(0,0,0,.35),
        0 0 0 1px rgba(255,255,255,.08) inset;
    transition:transform .3s cubic-bezier(.34,1.56,.64,1),box-shadow .3s;
}
.bcard:hover{transform:translateY(-4px);box-shadow:0 4px 12px rgba(0,0,0,.2),0 20px 60px rgba(0,0,0,.4),0 0 0 1px rgba(255,255,255,.1) inset}

/* Hero — the gradient top half */
.bcard-hero{
    padding:36px 28px 28px;
    position:relative;
    overflow:hidden;
}
/* Glossy light sweep */
.bcard-hero::before{
    content:'';position:absolute;top:0;left:0;right:0;bottom:0;
    background:
        radial-gradient(ellipse 80% 50% at 25% 15%,rgba(255,255,255,.18),transparent),
        radial-gradient(ellipse 60% 40% at 75% 85%,rgba(0,0,0,.12),transparent);
    pointer-events:none;
}
/* Subtle dot pattern */
.bcard-hero::after{
    content:'';position:absolute;top:0;left:0;right:0;bottom:0;
    background-image:radial-gradient(rgba(255,255,255,.06) 1px,transparent 1px);
    background-size:16px 16px;
    pointer-events:none;
}

/* Layout: left-aligned like a real business card */
.bcard-identity{display:flex;align-items:center;gap:16px;position:relative;z-index:1}
.bcard-avatar{
    width:60px;height:60px;
    border-radius:14px;
    background:rgba(255,255,255,.12);
    backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
    border:1.5px solid rgba(255,255,255,.2);
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
    box-shadow:0 4px 16px rgba(0,0,0,.2),0 0 0 1px rgba(255,255,255,.05) inset;
    flex-shrink:0;
}
.bcard-avatar img{width:100%;height:100%;object-fit:cover}
.bcard-avatar-logo{width:42px;height:42px;object-fit:contain;filter:brightness(1.1)}
.bcard-initials{
    font-size:20px;font-weight:800;letter-spacing:1.5px;color:#fff;
    text-shadow:0 1px 4px rgba(0,0,0,.15);
}
.bcard-text{min-width:0;flex:1}
.bcard-name{
    font-size:19px;font-weight:700;color:#fff;
    letter-spacing:.3px;line-height:1.2;
    text-shadow:0 1px 6px rgba(0,0,0,.12);
}
.bcard-title{
    font-size:12px;font-weight:500;color:rgba(255,255,255,.75);
    margin-top:3px;line-height:1.3;
}
.bcard-company{
    font-size:10px;font-weight:600;color:rgba(255,255,255,.5);
    text-transform:uppercase;letter-spacing:1.5px;margin-top:4px;
}

/* Divider between hero and body */
.bcard-divider{
    height:1px;margin:0 28px;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);
    position:relative;z-index:1;
}

/* Body — contact details on gradient bg */
.bcard-body{
    padding:16px 28px 14px;
    display:flex;flex-direction:column;gap:8px;
    position:relative;
}
.bcard-contact{display:flex;align-items:center;gap:10px;font-size:12px;color:rgba(255,255,255,.6)}
.bcard-contact svg{width:13px;height:13px;fill:rgba(255,255,255,.35);flex-shrink:0}
.bcard-contact span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* Visitor link pill */
.bcard-link{
    display:flex;align-items:center;gap:7px;
    padding:7px 12px;
    background:rgba(0,0,0,.2);
    border:1px solid rgba(255,255,255,.06);
    border-radius:10px;
    margin-top:4px;
}
.bcard-link svg{flex-shrink:0}
.bcard-link-url{
    font-size:11px;color:rgba(255,255,255,.4);font-weight:500;
    overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;min-width:0;
}
.bcard-link-copy{
    background:none;border:none;color:rgba(255,255,255,.35);cursor:pointer;
    padding:3px;display:flex;align-items:center;border-radius:4px;flex-shrink:0;
    transition:all .2s;
}
.bcard-link-copy:hover{color:#fff;transform:scale(1.15)}
.bcard-link-copy.copied{color:#4ade80}

/* Action bar */
.bcard-actions{
    display:flex;gap:1px;
    overflow:hidden;
    border-top:1px solid rgba(255,255,255,.06);
}
.bcard-action{
    flex:1;
    padding:11px 0;
    border:none;
    background:rgba(0,0,0,.25);
    color:rgba(255,255,255,.5);
    font-family:inherit;
    font-size:12px;
    font-weight:500;
    cursor:pointer;
    display:flex;align-items:center;justify-content:center;gap:5px;
    transition:all .15s;
    letter-spacing:.2px;
}
.bcard-action:hover{background:rgba(255,255,255,.08);color:#fff}
.bcard-action:active{transform:scale(.95)}
.bcard-action svg{width:13px;height:13px;fill:currentColor}
.bcard-action.delete-action:hover{background:rgba(248,113,113,.12);color:#f87171}

/* Add card button */
.add-card-btn{
    flex:0 0 330px;
    scroll-snap-align:center;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:12px;
    min-height:320px;
    border-radius:22px;
    border:2px dashed rgba(255,255,255,.08);
    background:rgba(255,255,255,.02);
    color:rgba(255,255,255,.3);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    transition:all .3s;
}
.add-card-btn:hover{border-color:rgba(255,255,255,.2);color:rgba(255,255,255,.6);background:rgba(255,255,255,.04)}
.add-card-btn:active{border-color:rgba(249,115,22,.4);color:#f97316;transform:scale(.97)}
.add-card-btn svg{width:32px;height:32px;fill:currentColor;opacity:.6}

/* Card entrance animation */
@keyframes bcardIn{
    from{opacity:0;transform:translateY(20px) scale(.95)}
    to{opacity:1;transform:translateY(0) scale(1)}
}
.bcard,.add-card-btn{animation:bcardIn .5s cubic-bezier(.34,1.56,.64,1) both}

/* Card Edit Modal */
.card-edit-modal{
    position:fixed;inset:0;
    background:rgba(0,0,0,.85);
    z-index:250;
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
}
.card-edit-modal.show{display:flex}
.card-edit-content{
    background:#252538;
    border-radius:20px;
    width:100%;
    max-width:400px;
    max-height:90vh;
    overflow-y:auto;
    padding-bottom:env(safe-area-inset-bottom);
}
.card-edit-header{
    padding:20px;
    border-bottom:1px solid rgba(255,255,255,.06);
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.card-edit-header h3{font-size:17px;font-weight:600}
.card-edit-close{background:none;border:none;color:rgba(255,255,255,.5);font-size:24px;cursor:pointer}
.card-edit-body{padding:20px}
.card-edit-field{margin-bottom:16px}
.card-edit-field label{display:block;font-size:12px;color:rgba(255,255,255,.4);margin-bottom:6px;text-transform:uppercase}
.card-edit-field input{
    width:100%;
    padding:14px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:15px;
}
.card-edit-field input:focus{outline:none;border-color:rgba(249,115,22,.5)}
.color-picker-row{display:flex;gap:10px;flex-wrap:wrap}
.color-picker-opt{
    width:44px;height:44px;
    border-radius:12px;
    border:3px solid transparent;
    cursor:pointer;
}
.color-picker-opt:active{transform:scale(.9)}
.color-picker-opt.selected{border-color:#fff}
.card-edit-footer{
    padding:16px 20px;
    border-top:1px solid rgba(255,255,255,.06);
    display:flex;
    gap:10px;
}
.card-edit-save{
    flex:1;
    padding:14px;
    border:none;
    border-radius:12px;
    background:#f97316;
    color:#fff;
    font-family:inherit;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.card-edit-save:active{opacity:.8}
.card-edit-cancel{
    padding:14px 20px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    background:transparent;
    color:rgba(255,255,255,.6);
    font-family:inherit;
    font-size:15px;
    cursor:pointer;
}
.card-edit-full{max-width:520px}
.card-edit-scrollable{max-height:65vh;overflow-y:auto}
.card-edit-tabs{display:flex;padding:0 12px;border-bottom:1px solid rgba(255,255,255,.06);overflow-x:auto;-webkit-overflow-scrolling:touch}
.card-tab{
    padding:12px 16px;
    border:none;
    background:none;
    color:rgba(255,255,255,.4);
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    border-bottom:2px solid transparent;
    white-space:nowrap;
}
.card-tab.active{color:#f97316;border-bottom-color:#f97316}
.card-tab-content{display:none}
.card-tab-content.active{display:block}
.card-edit-row{display:flex;gap:12px}
.card-edit-row .card-edit-field{flex:1}
.card-edit-field textarea{
    width:100%;
    padding:14px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    resize:vertical;
}
.card-edit-field textarea:focus{outline:none;border-color:rgba(249,115,22,.5)}
.field-hint{display:block;font-size:11px;color:rgba(255,255,255,.3);margin-top:4px}
.products-editor{padding:8px 0}
.product-item{
    background:rgba(255,255,255,.03);
    border:1px solid rgba(255,255,255,.08);
    border-radius:12px;
    padding:12px;
    margin-bottom:10px;
}
.product-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.product-item-title{font-size:12px;font-weight:600;color:rgba(255,255,255,.6)}
.remove-product{
    background:none;border:none;color:#f87171;cursor:pointer;font-size:18px;padding:0 4px;
}
.product-item input{
    width:100%;
    padding:10px;
    border:1px solid rgba(255,255,255,.08);
    border-radius:8px;
    background:rgba(255,255,255,.03);
    color:#fff;
    font-family:inherit;
    font-size:13px;
    margin-bottom:6px;
}
.product-item input:focus{outline:none;border-color:rgba(249,115,22,.4)}
.add-product-btn{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    width:100%;
    padding:12px;
    border:2px dashed rgba(255,255,255,.1);
    border-radius:12px;
    background:transparent;
    color:rgba(255,255,255,.4);
    font-family:inherit;
    font-size:13px;
    cursor:pointer;
}
.add-product-btn:hover{border-color:rgba(249,115,22,.3);color:#f97316}
.add-product-btn svg{width:18px;height:18px;fill:currentColor}

.leads-header h2{font-size:18px;font-weight:600}
.leads-header span{font-size:13px;color:rgba(255,255,255,.4);margin-left:auto}

.leads-toolbar{
    position:sticky;
    top:73px;
    background:rgba(26,26,46,.95);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:12px 20px;
    display:flex;
    gap:10px;
    z-index:10;
    border-bottom:1px solid rgba(255,255,255,.04);
}
.leads-search{
    flex:1;
    min-width:100px;
    padding:12px 16px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    outline:none;
}
.leads-search::placeholder{color:rgba(255,255,255,.3)}
.leads-search:focus{border-color:rgba(255,255,255,.2);background:rgba(255,255,255,.08)}
.csv-btn{
    padding:12px 18px;
    border:none;
    border-radius:12px;
    background:rgba(249,115,22,.15);
    color:#fb923c;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.csv-btn:active{transform:scale(.95)}
.import-btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:12px 16px;
    border:none;
    border-radius:12px;
    background:rgba(74,222,128,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.import-btn svg{width:16px;height:16px;fill:#4ade80}
.import-btn:active{transform:scale(.95)}

/* ── Import Review Modal ── */
.import-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:200;display:none;flex-direction:column}
.import-modal.show{display:flex}
.import-header{padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:center;gap:12px}
.import-header h3{flex:1;font-size:17px;font-weight:600}
.import-header button{background:none;border:none;color:rgba(255,255,255,.5);font-size:14px;cursor:pointer;padding:8px 12px}
.import-header .save-all-btn{background:#f97316;color:#fff;border-radius:10px;font-weight:600}
.import-list{flex:1;overflow-y:auto;padding:12px}
.import-item{background:rgba(255,255,255,.04);border-radius:14px;padding:16px;margin-bottom:12px}
.import-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.import-item-name{font-size:16px;font-weight:600}
.import-item-remove{background:none;border:none;color:#f87171;font-size:12px;cursor:pointer;padding:4px 8px}
.import-field{margin-bottom:10px}
.import-field label{display:block;font-size:10px;color:rgba(255,255,255,.4);margin-bottom:4px;text-transform:uppercase}
.import-field input{width:100%;padding:10px 12px;border:1px solid rgba(255,255,255,.1);border-radius:8px;background:rgba(255,255,255,.04);color:#fff;font-family:inherit;font-size:14px}
.import-field input:focus{outline:none;border-color:rgba(249,115,22,.5)}
.import-card-select{width:100%;padding:10px 12px;border:1px solid rgba(255,255,255,.1);border-radius:8px;background:rgba(255,255,255,.04);color:#fff;font-family:inherit;font-size:14px}
.import-count{font-size:13px;color:rgba(255,255,255,.4)}

/* ── Filter Bar ── */
.filter-bar{
    position:sticky;
    top:122px;
    background:rgba(26,26,46,.95);
    backdrop-filter:blur(8px);
    -webkit-backdrop-filter:blur(8px);
    padding:8px 20px 12px;
    display:flex;
    gap:8px;
    z-index:10;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
}
.filter-bar::-webkit-scrollbar{display:none}
.filter-chip{
    font-size:12px;
    padding:8px 14px;
    border-radius:20px;
    border:1px solid rgba(255,255,255,.1);
    background:transparent;
    color:rgba(255,255,255,.5);
    cursor:pointer;
    white-space:nowrap;
    font-family:inherit;
    flex-shrink:0;
}
.filter-chip:active{transform:scale(.95)}
.filter-chip.active{background:rgba(249,115,22,.2);border-color:rgba(249,115,22,.4);color:#fdba74}
.card-filter-bar{top:166px;padding-top:0;gap:6px}
.card-filter-bar .filter-label{font-size:11px;color:rgba(255,255,255,.35);padding:8px 4px 8px 0;flex-shrink:0}
.card-filter-chip{padding:6px 12px;font-size:11px;border-width:2px;border-left-width:3px}
.card-filter-chip.active{background:rgba(255,255,255,.08)}

/* ── Edit Lead Modal ── */
.edit-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:200;display:none;align-items:center;justify-content:center;padding:20px}
.edit-modal.show{display:flex}
.edit-modal-content{background:#252538;border-radius:20px;width:100%;max-width:400px;max-height:90vh;overflow-y:auto}
.edit-modal-header{padding:20px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;justify-content:space-between;align-items:center}
.edit-modal-header h3{font-size:17px;font-weight:600}
.edit-modal-close{background:none;border:none;color:rgba(255,255,255,.5);font-size:24px;cursor:pointer;padding:0 8px}
.edit-modal-body{padding:20px}
.edit-field{margin-bottom:14px}
.edit-field label{display:block;font-size:11px;color:rgba(255,255,255,.4);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
.edit-field input,.edit-field textarea{width:100%;padding:12px 14px;border:1px solid rgba(255,255,255,.1);border-radius:10px;background:rgba(255,255,255,.04);color:#fff;font-family:inherit;font-size:14px}
.edit-field input:focus,.edit-field textarea:focus{outline:none;border-color:rgba(249,115,22,.5);background:rgba(255,255,255,.06)}
.edit-field textarea{resize:vertical;min-height:60px}
.edit-modal-footer{padding:16px 20px;border-top:1px solid rgba(255,255,255,.06);display:flex;gap:10px}
.edit-save-btn{flex:1;padding:14px;border:none;border-radius:12px;background:#f97316;color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer}
.edit-save-btn:active{opacity:.8}
.edit-cancel-btn{padding:14px 20px;border:1px solid rgba(255,255,255,.1);border-radius:12px;background:transparent;color:rgba(255,255,255,.6);font-family:inherit;font-size:15px;cursor:pointer}

/* ── Reminder Banner ── */
.reminder-banner{display:none;padding:14px 20px;background:rgba(251,146,60,.1);border-bottom:1px solid rgba(251,146,60,.2)}
.reminder-banner.show{display:block}
.reminder-banner-title{font-size:13px;font-weight:600;color:#fb923c;margin-bottom:8px}
.reminder-item{font-size:13px;color:rgba(255,255,255,.6);padding:6px 0;display:flex;justify-content:space-between;align-items:center}
.reminder-item a{color:#fb923c;text-decoration:none;font-weight:500}
.reminder-dismiss{background:none;border:none;color:rgba(255,255,255,.4);font-size:12px;cursor:pointer;padding:4px 8px;font-family:inherit}

/* ── Lead Item ── */
.lead-item{padding:18px 20px;border-bottom:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.02);margin:8px 12px;border-radius:14px}
.lead-item .li-top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.lead-item .li-name{font-size:17px;font-weight:600}
.lead-item .li-company{font-size:13px;color:rgba(255,255,255,.5);margin-top:2px}
.lead-item .li-card-badge{font-size:11px;padding:4px 10px;border-radius:8px;background:rgba(255,255,255,.08);color:rgba(255,255,255,.5)}
.lead-exchange{border-left:3px solid #10b981}
.exchange-badge{display:inline-block;font-size:11px;font-weight:700;padding:3px 8px;border-radius:6px;background:rgba(16,185,129,.15);color:#10b981;letter-spacing:.3px;text-transform:uppercase;margin-bottom:4px}
.lead-item .li-contact{margin-top:10px;font-size:14px;color:rgba(255,255,255,.6)}
.lead-item .li-contact a{color:rgba(255,255,255,.7);text-decoration:none}
.lead-item .li-address{font-size:13px;color:rgba(255,255,255,.4);margin-top:6px}
.lead-item .li-time{font-size:12px;color:rgba(255,255,255,.3);margin-top:10px}
.lead-item .li-source{font-size:11px;color:rgba(255,255,255,.25);margin-left:8px;text-transform:uppercase}
.lead-item .li-photo{width:100%;max-height:160px;object-fit:contain;border-radius:10px;margin-top:12px}
.leads-empty{text-align:center;padding:60px 24px;color:rgba(255,255,255,.4);font-size:15px}
.li-quick-actions{display:flex;gap:8px;margin-top:12px}
.li-quick-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;border:none;border-radius:10px;font-family:inherit;font-size:13px;font-weight:500;cursor:pointer;text-decoration:none;color:#fff}
.li-quick-btn svg{width:18px;height:18px;fill:currentColor}
.li-quick-btn.call-btn{background:rgba(96,165,250,.2);color:#60a5fa}
.li-quick-btn.wa-btn{background:rgba(74,222,128,.2);color:#4ade80}
.li-quick-btn.email-btn{background:rgba(251,191,36,.2);color:#fbbf24}
.li-quick-btn:active{transform:scale(.95);opacity:.8}

/* ── Status Badge ── */
.status-badge{
    font-size:11px;
    padding:4px 10px;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
    border:none;
    font-family:inherit;
}
.status-badge:active{transform:scale(.9)}
.status-new{background:rgba(59,130,246,.15);color:#60a5fa}
.status-contacted{background:rgba(251,191,36,.15);color:#fbbf24}
.status-qualified{background:rgba(168,85,247,.15);color:#c084fc}
.status-won{background:rgba(34,197,94,.15);color:#4ade80}
.status-lost{background:rgba(239,68,68,.12);color:#f87171}

/* ── Score Badges ── */
.score-badge{font-size:11px;padding:3px 8px;border-radius:6px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.score-hot{background:linear-gradient(135deg,#ef4444,#f97316);color:#fff;animation:pulse-hot 2s infinite}
.score-warm{background:rgba(251,191,36,.2);color:#fbbf24}
.score-cool{background:rgba(96,165,250,.15);color:#60a5fa}
@keyframes pulse-hot{0%,100%{box-shadow:0 0 0 0 rgba(249,115,22,.4)}50%{box-shadow:0 0 0 4px rgba(249,115,22,0)}}
.lead-actions-row{display:flex;flex-wrap:wrap;gap:4px;margin-top:6px}
.action-chip{font-size:9px;padding:2px 6px;border-radius:4px;background:rgba(255,255,255,.08);color:rgba(255,255,255,.5)}

/* ── Tags ── */
.tag-row{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
.tag-chip{font-size:11px;padding:4px 10px;border-radius:12px;background:rgba(249,115,22,.12);color:#fdba74;cursor:pointer;border:none;font-family:inherit}
.tag-chip:active{transform:scale(.93)}
.add-tag-btn{font-size:11px;padding:4px 10px;border-radius:12px;background:rgba(255,255,255,.05);color:rgba(255,255,255,.4);cursor:pointer;border:1px dashed rgba(255,255,255,.15);font-family:inherit}
.add-tag-btn:active{transform:scale(.95)}

/* ── Notes ── */
.lead-note{margin-top:10px}
.lead-note textarea{
    width:100%;
    padding:10px 12px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:10px;
    background:rgba(255,255,255,.04);
    color:rgba(255,255,255,.8);
    font-family:inherit;
    font-size:13px;
    resize:vertical;
    min-height:40px;
    outline:none;
}
.lead-note textarea::placeholder{color:rgba(255,255,255,.25)}
.lead-note textarea:focus{border-color:rgba(255,255,255,.2);background:rgba(255,255,255,.06)}
.lead-note-saved{font-size:11px;color:rgba(34,197,94,.7);display:none;margin-top:4px}

/* ── Reminder ── */
.lead-reminder{margin-top:8px;display:flex;align-items:center;gap:8px}
.lead-reminder input[type="date"]{
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.1);
    border-radius:8px;
    color:rgba(255,255,255,.7);
    font-family:inherit;
    font-size:12px;
    padding:6px 10px;
    outline:none;
}
.lead-reminder input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(.6)}
.remind-btn{font-size:12px;padding:6px 12px;border-radius:8px;border:none;background:rgba(251,146,60,.12);color:#fb923c;cursor:pointer;font-family:inherit}
.remind-set{font-size:11px;color:#fb923c}
.followup-send{font-size:11px;padding:5px 10px;border-radius:6px;border:none;background:#25D366;color:#fff;cursor:pointer;font-family:inherit;display:inline-flex;align-items:center;gap:4px}
.followup-send svg{width:12px;height:12px;fill:#fff}
.reminder-overdue{color:#f87171!important}
.due-reminders{
    background:linear-gradient(135deg,rgba(251,146,60,.15),rgba(249,115,22,.1));
    border:1px solid rgba(249,115,22,.2);
    border-radius:12px;
    padding:14px 16px;
    margin:0 20px 12px;
}
.due-reminders-title{font-size:13px;font-weight:600;color:#fb923c;margin-bottom:10px;display:flex;align-items:center;gap:6px}
.due-reminders-title svg{width:16px;height:16px;fill:#fb923c}
.due-item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:8px 0;
    border-bottom:1px solid rgba(255,255,255,.05);
}
.due-item:last-child{border-bottom:none}
.due-item-info{flex:1}
.due-item-name{font-size:13px;font-weight:500;color:rgba(255,255,255,.9)}
.due-item-date{font-size:11px;color:#fb923c}
.template-select{
    font-size:11px;
    padding:4px 8px;
    border-radius:6px;
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.1);
    color:rgba(255,255,255,.7);
    font-family:inherit;
    margin-right:6px;
}

/* ── Lead Actions ── */
.lead-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.save-lead-btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:10px 16px;
    border:none;
    border-radius:10px;
    background:rgba(74,222,128,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.save-lead-btn:active{transform:scale(.96)}
.save-lead-btn svg{width:16px;height:16px;fill:#4ade80}
.del-lead-btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:10px 14px;
    border:none;
    border-radius:10px;
    background:rgba(239,68,68,.1);
    color:#f87171;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.del-lead-btn:active{transform:scale(.96)}
.del-lead-btn svg{width:14px;height:14px;fill:#f87171}
.edit-lead-btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:10px 14px;
    border:none;
    border-radius:10px;
    background:rgba(249,115,22,.15);
    color:#fdba74;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.edit-lead-btn:active{transform:scale(.96)}
.edit-lead-btn svg{width:14px;height:14px;fill:#fdba74}

/* ── Quick Send Modal ── */
.qs-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:flex-end;justify-content:center;z-index:100}
.qs-modal.show{display:flex}
.qs-sheet{
    background:#252538;
    border-radius:20px 20px 0 0;
    width:100%;
    max-width:480px;
    padding:28px 20px calc(28px + env(safe-area-inset-bottom));
}
.qs-sheet h3{font-size:18px;font-weight:600;margin-bottom:6px}
.qs-sheet .qs-sub{font-size:13px;color:rgba(255,255,255,.4);margin-bottom:20px}
.qs-opt{
    width:100%;
    padding:16px 18px;
    border:1px solid rgba(255,255,255,.08);
    border-radius:14px;
    background:rgba(255,255,255,.04);
    color:#fff;
    font-family:inherit;
    font-size:15px;
    font-weight:500;
    cursor:pointer;
    margin-bottom:10px;
    text-align:left;
}
.qs-opt:active{transform:scale(.98)}
.qs-opt.selected{border-color:rgba(249,115,22,.5);background:rgba(249,115,22,.12)}
.qs-opt small{display:block;font-size:12px;font-weight:400;color:rgba(255,255,255,.4);margin-top:3px}
.qs-off{
    text-align:center;
    padding:14px;
    border:none;
    background:none;
    color:rgba(255,255,255,.4);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
    width:100%;
    margin-top:8px;
}
.qs-off:active{color:rgba(255,255,255,.6)}

/* ── Tag Modal ── */
.tag-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:flex-end;justify-content:center;z-index:100}
.tag-modal.show{display:flex}
.tag-sheet{
    background:#252538;
    border-radius:20px 20px 0 0;
    width:100%;
    max-width:480px;
    padding:28px 20px calc(28px + env(safe-area-inset-bottom));
}
.tag-sheet h3{font-size:18px;font-weight:600;margin-bottom:16px}
.tag-options{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}
.tag-option{
    padding:10px 18px;
    border-radius:20px;
    border:1px solid rgba(255,255,255,.1);
    background:rgba(255,255,255,.04);
    color:rgba(255,255,255,.6);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
}
.tag-option:active{transform:scale(.95)}
.tag-option.selected{border-color:rgba(249,115,22,.5);background:rgba(249,115,22,.15);color:#fdba74}
.tag-custom{display:flex;gap:10px;margin-bottom:20px}
.tag-custom input{
    flex:1;
    padding:12px 16px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:12px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    outline:none;
}
.tag-custom input::placeholder{color:rgba(255,255,255,.3)}
.tag-custom input:focus{border-color:rgba(255,255,255,.2)}
.tag-custom button{
    padding:12px 20px;
    border:none;
    border-radius:12px;
    background:rgba(249,115,22,.2);
    color:#fb923c;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.tag-custom button:active{transform:scale(.95)}
.tag-done{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:rgba(34,197,94,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.tag-done:active{transform:scale(.97)}

/* ── Analytics Dashboard ── */
#analytics{
    display:block;
}
.analytics-header{
    position:sticky;
    top:0;
    background:rgba(26,26,46,.95);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:16px 20px;
    padding-top:calc(16px + env(safe-area-inset-top));
    display:flex;
    align-items:center;
    gap:12px;
    border-bottom:1px solid rgba(255,255,255,.06);
    z-index:10;
}
.analytics-header h2{font-size:18px;font-weight:600}
.analytics-content{padding:20px}
.analytics-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:24px}
.analytics-card{background:rgba(255,255,255,.04);border-radius:14px;padding:20px;text-align:center}
.analytics-card .ac-num{font-size:32px;font-weight:700;color:rgba(255,255,255,.85)}
.analytics-card .ac-label{font-size:12px;color:rgba(255,255,255,.4);margin-top:4px}
.analytics-section{margin-bottom:28px}
.analytics-section h3{font-size:15px;font-weight:600;color:rgba(255,255,255,.6);margin-bottom:14px}
.analytics-bar{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.analytics-bar .ab-label{font-size:13px;color:rgba(255,255,255,.5);width:90px;flex-shrink:0}
.analytics-bar .ab-track{flex:1;height:8px;background:rgba(255,255,255,.06);border-radius:4px;overflow:hidden}
.analytics-bar .ab-fill{height:100%;border-radius:4px}
.analytics-bar .ab-count{font-size:13px;color:rgba(255,255,255,.5);width:40px;text-align:right;flex-shrink:0}
.chart-container{background:rgba(255,255,255,.04);border-radius:14px;padding:20px;margin-bottom:24px}
.chart-container canvas{width:100%;height:180px}
.card-perf-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.card-perf-item:last-child{border-bottom:none}
.card-perf-name{font-size:14px;font-weight:500}
.card-perf-stats{font-size:13px;color:rgba(255,255,255,.4)}

/* ── Storage Dashboard ── */
#storage{
    display:none;
}
.storage-card{background:rgba(255,255,255,.04);border-radius:14px;padding:20px;margin-bottom:16px}
.storage-card h4{font-size:14px;font-weight:600;color:rgba(255,255,255,.7);margin-bottom:12px}
.storage-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.storage-row:last-child{border-bottom:none}
.storage-label{font-size:13px;color:rgba(255,255,255,.5)}
.storage-value{font-size:14px;font-weight:600;color:rgba(255,255,255,.8)}
.storage-bar{margin-top:12px}
.storage-bar-track{height:8px;background:rgba(255,255,255,.08);border-radius:4px;overflow:hidden}
.storage-bar-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,#2dd4bf,#14b8a6)}
.storage-bar-label{display:flex;justify-content:space-between;font-size:11px;color:rgba(255,255,255,.4);margin-top:6px}
.cost-free{color:#4ade80}
.cost-paid{color:#fbbf24}
.storage-note{font-size:12px;color:rgba(255,255,255,.35);margin-top:16px;line-height:1.6}

/* ── Review Queue ── */
#reviewQueue{
    display:none;
}
.review-item{padding:20px;border-bottom:1px solid rgba(255,255,255,.06)}
.review-img{width:100%;max-height:250px;object-fit:contain;border-radius:12px;background:rgba(0,0,0,.3);margin-bottom:16px}
.review-ocr-btn{
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    background:rgba(249,115,22,.15);
    color:#fb923c;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    margin-bottom:16px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
}
.review-ocr-btn:active{transform:scale(.97)}
.review-ocr-btn.scanning{opacity:.7}
.review-ocr-btn svg{width:18px;height:18px;fill:currentColor}
.review-field{margin-bottom:10px}
.review-field label{display:block;font-size:11px;color:rgba(255,255,255,.4);margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}
.review-field input{
    width:100%;
    padding:12px 14px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:10px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    outline:none;
}
.review-field input:focus{border-color:rgba(255,255,255,.25);background:rgba(255,255,255,.08)}
.review-field input::placeholder{color:rgba(255,255,255,.25)}
.review-field textarea{
    width:100%;
    padding:12px 14px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:10px;
    background:rgba(255,255,255,.05);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    outline:none;
    resize:vertical;
    min-height:60px;
}
.review-field textarea:focus{border-color:rgba(255,255,255,.25);background:rgba(255,255,255,.08)}
.review-field textarea::placeholder{color:rgba(255,255,255,.25)}
.review-actions{display:flex;gap:10px;margin-top:16px}
.review-save{
    flex:1;
    padding:14px;
    border:none;
    border-radius:10px;
    background:rgba(34,197,94,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.review-save:active{transform:scale(.97)}
.review-skip{
    padding:14px 20px;
    border:none;
    border-radius:10px;
    background:rgba(255,255,255,.06);
    color:rgba(255,255,255,.5);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
}
.review-skip:active{transform:scale(.97)}
.review-time{font-size:11px;color:rgba(255,255,255,.3);margin-bottom:12px}

/* ── Scan Modal ── */
.scan-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:300;display:none;flex-direction:column}
.scan-modal.show{display:flex}
.scan-header{padding:16px 20px;padding-top:calc(16px + env(safe-area-inset-top));display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(255,255,255,.1)}
.scan-header h3{flex:1;font-size:17px;font-weight:600}
.scan-close{background:none;border:none;color:rgba(255,255,255,.6);font-size:14px;cursor:pointer;padding:8px 12px}
.scan-options{display:flex;gap:12px;padding:20px;justify-content:center}
.scan-option{
    flex:1;max-width:160px;
    padding:24px 16px;
    border-radius:16px;
    border:2px solid rgba(255,255,255,.1);
    background:rgba(255,255,255,.04);
    color:#fff;
    font-family:inherit;
    text-align:center;
    cursor:pointer;
}
.scan-option:active{transform:scale(.97);border-color:rgba(255,255,255,.2)}
.scan-option.active{border-color:#4ade80;background:rgba(74,222,128,.1)}
.scan-option svg{width:40px;height:40px;fill:rgba(255,255,255,.5);margin-bottom:12px}
.scan-option.active svg{fill:#4ade80}
.scan-option-title{font-size:15px;font-weight:600;margin-bottom:4px}
.scan-option-desc{font-size:12px;color:rgba(255,255,255,.4)}
.scan-camera{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;position:relative}
.scan-camera video{width:100%;max-width:400px;border-radius:16px;background:#000}
.scan-camera canvas{display:none}
.scan-viewfinder{
    position:absolute;
    width:250px;height:250px;
    border:2px solid rgba(74,222,128,.5);
    border-radius:16px;
    pointer-events:none;
}
.scan-viewfinder::before,.scan-viewfinder::after{
    content:'';position:absolute;
    width:30px;height:30px;
    border:3px solid #4ade80;
}
.scan-viewfinder::before{top:-2px;left:-2px;border-right:none;border-bottom:none;border-radius:16px 0 0 0}
.scan-viewfinder::after{bottom:-2px;right:-2px;border-left:none;border-top:none;border-radius:0 0 16px 0}
.scan-status{margin-top:16px;font-size:14px;color:rgba(255,255,255,.5);text-align:center}
.scan-capture-btn{
    margin-top:20px;
    padding:16px 40px;
    border-radius:14px;
    border:none;
    background:#4ade80;
    color:#000;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
}
.scan-capture-btn:active{transform:scale(.97)}
.scan-capture-btn:disabled{opacity:.5}
.scan-result{padding:20px;overflow-y:auto}
.scan-result-card{background:rgba(255,255,255,.05);border-radius:14px;padding:20px}
.scan-result-title{font-size:13px;color:rgba(255,255,255,.4);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.scan-result-field{margin-bottom:12px}
.scan-result-field label{display:block;font-size:11px;color:rgba(255,255,255,.4);margin-bottom:4px}
.scan-result-field input{
    width:100%;padding:12px;
    border:1px solid rgba(255,255,255,.1);
    border-radius:10px;
    background:rgba(255,255,255,.05);
    color:#fff;font-family:inherit;font-size:14px;
}
.scan-result-field input:focus{outline:none;border-color:rgba(74,222,128,.5)}
.scan-result-actions{display:flex;gap:10px;margin-top:16px}
.scan-save-btn{
    flex:1;padding:14px;border:none;border-radius:12px;
    background:#4ade80;color:#000;
    font-family:inherit;font-size:15px;font-weight:600;cursor:pointer;
}
.scan-save-btn:active{transform:scale(.97)}
.scan-retry-btn{
    padding:14px 20px;border:none;border-radius:12px;
    background:rgba(255,255,255,.1);color:#fff;
    font-family:inherit;font-size:15px;cursor:pointer;
}

/* ═══ Scan & Add Cards Modal ═══ */
.scan-cards-modal{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,.92);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s}
.scan-cards-modal.show{opacity:1;pointer-events:auto}
.scan-cards-inner{width:100%;max-width:480px;max-height:90dvh;display:flex;flex-direction:column;padding:20px}
.scan-cards-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.scan-cards-header h2{color:#fff;font-size:20px;margin:0;font-weight:700}
.scan-cards-close{background:none;border:none;color:rgba(255,255,255,.5);font-size:28px;cursor:pointer;padding:4px 8px;line-height:1}
.scan-cards-close:hover{color:#fff}
.scan-cards-sources{display:flex;gap:12px}
.scan-cards-sources button{flex:1;padding:24px 12px;border:1.5px solid rgba(255,255,255,.12);border-radius:16px;background:rgba(255,255,255,.04);color:#fff;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:10px;font-family:inherit;transition:border-color .2s,background .2s}
.scan-cards-sources button:hover{border-color:rgba(99,102,241,.5);background:rgba(99,102,241,.08)}
.scan-cards-sources button svg{opacity:.7}
.scan-cards-sources .sc-label{font-size:14px;font-weight:600}
.scan-cards-sources .sc-desc{font-size:11px;color:rgba(255,255,255,.4)}
.scan-cards-progress{text-align:center;padding:40px 0}
.scan-cards-progress .sc-prog-text{color:rgba(255,255,255,.6);font-size:14px;margin-bottom:16px}
.scan-cards-progress .sc-prog-bar{height:6px;background:rgba(255,255,255,.1);border-radius:3px;overflow:hidden}
.scan-cards-progress .sc-prog-fill{height:100%;background:linear-gradient(90deg,#6366f1,#a78bfa);border-radius:3px;transition:width .3s}
.scan-cards-review{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:12px}
.scan-cards-review-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
.scan-cards-review-header span{color:rgba(255,255,255,.5);font-size:13px}
.scan-cards-create-all{padding:14px 24px;border:none;border-radius:12px;background:#6366f1;color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer;transition:opacity .2s}
.scan-cards-create-all:disabled{opacity:.4;cursor:not-allowed}
.scan-cards-item{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:16px;position:relative}
.scan-cards-item .sc-item-row{display:flex;gap:8px;margin-bottom:8px}
.scan-cards-item .sc-item-row:last-child{margin-bottom:0}
.scan-cards-item input{flex:1;padding:10px 12px;border:1px solid rgba(255,255,255,.1);border-radius:8px;background:rgba(255,255,255,.05);color:#fff;font-family:inherit;font-size:13px}
.scan-cards-item input:focus{outline:none;border-color:rgba(99,102,241,.5)}
.scan-cards-item input::placeholder{color:rgba(255,255,255,.25)}
.scan-cards-item .sc-remove{position:absolute;top:8px;right:8px;background:none;border:none;color:rgba(255,255,255,.3);cursor:pointer;font-size:18px;line-height:1;padding:4px}
.scan-cards-item .sc-remove:hover{color:#f87171}
.scan-cards-item .sc-status{position:absolute;top:10px;right:36px;font-size:11px;font-weight:600;padding:2px 8px;border-radius:6px}
.scan-cards-item .sc-status.created{background:rgba(74,222,128,.15);color:#4ade80}
.scan-cards-item .sc-status.error{background:rgba(248,113,113,.15);color:#f87171}
.scan-cards-item .sc-status.skipped{background:rgba(251,191,36,.15);color:#fbbf24}
.scan-cards-limit-warn{background:rgba(251,191,36,.1);border:1px solid rgba(251,191,36,.25);color:#fbbf24;padding:10px 14px;border-radius:10px;font-size:13px;margin-bottom:8px}
.scan-cards-camera{display:flex;flex-direction:column;align-items:center;gap:16px}
.scan-cards-camera video{width:100%;max-height:50dvh;border-radius:12px;background:#000;object-fit:cover}
.scan-cards-camera canvas{display:none}
.scan-cards-cam-btn{padding:14px 32px;border:none;border-radius:12px;background:#6366f1;color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer}
.scan-cards-cam-btn:disabled{opacity:.4}

/* ═══ SaaS LAYOUT ═══ */

/* ── App Shell ── */
.app-shell{display:flex;height:100dvh;overflow:hidden}

/* ── Sidebar ── */
.sidebar{
    width:240px;
    flex-shrink:0;
    background:var(--bg-card);
    border-right:1px solid var(--border);
    display:flex;
    flex-direction:column;
    padding:0;
    overflow-y:auto;
}
.sidebar-brand{
    padding:20px 20px 16px;
    display:flex;
    align-items:center;
    gap:10px;
    border-bottom:1px solid var(--border);
}
.sidebar-brand-icon{
    width:36px;height:36px;
    border-radius:10px;
    background:linear-gradient(135deg,var(--accent),#8b5cf6);
    display:flex;align-items:center;justify-content:center;
    flex-shrink:0;
}
.sidebar-brand-icon svg{width:20px;height:20px;fill:#fff}
.sidebar-brand-name{font-size:17px;font-weight:700;color:var(--text-primary)}

.sidebar-nav{flex:1;padding:12px 10px}
.nav-item{
    display:flex;
    align-items:center;
    gap:12px;
    padding:10px 14px;
    border-radius:10px;
    border:none;
    background:none;
    color:var(--text-secondary);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    width:100%;
    text-align:left;
    margin-bottom:2px;
    transition:background .15s,color .15s;
}
.nav-item:hover{background:var(--bg-hover);color:var(--text-primary)}
.nav-item.active{background:rgba(99,102,241,.15);color:var(--accent-light)}
.nav-item svg{width:20px;height:20px;fill:currentColor;flex-shrink:0;opacity:.7}
.nav-item.active svg{opacity:1}
.nav-item-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.sidebar-user{
    padding:16px;
    border-top:1px solid var(--border);
    display:flex;
    align-items:center;
    gap:10px;
}
.sidebar-user-info{flex:1;min-width:0}
.sidebar-user-name{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sidebar-plan-badge{
    display:inline-block;
    font-size:10px;
    padding:2px 8px;
    border-radius:6px;
    background:rgba(99,102,241,.15);
    color:var(--accent-light);
    text-transform:capitalize;
    font-weight:600;
    margin-top:2px;
}
.sidebar-signout{
    width:32px;height:32px;
    border-radius:8px;
    border:none;
    background:rgba(239,68,68,.1);
    cursor:pointer;
    display:flex;align-items:center;justify-content:center;
    flex-shrink:0;
}
.sidebar-signout svg{width:16px;height:16px;fill:#f87171}
.sidebar-signout:hover{background:rgba(239,68,68,.2)}

/* ── Main Content ── */
.main-content{
    flex:1;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    background:var(--bg-base);
    position:relative;
}

/* ── Pages ── */
.page{display:none;padding:24px;padding-top:calc(24px + env(safe-area-inset-top));min-height:100%}
.page.active{display:block}
.page-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:24px;
}
.page-header h1{font-size:24px;font-weight:700}

/* ── Bottom Tab Bar (mobile) ── */
.bottom-tabs{
    display:none;
    position:fixed;
    bottom:-34px;left:0;right:0;
    background:var(--bg-card);
    border-top:1px solid var(--border);
    padding:4px 0 calc(34px + env(safe-area-inset-bottom, 0px));
    z-index:100;
}
.tab-item{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:2px;
    padding:10px 0;
    border:none;
    background:none;
    color:var(--text-muted);
    font-family:inherit;
    font-size:11px;
    font-weight:500;
    cursor:pointer;
}
.tab-item svg{width:22px;height:22px;fill:currentColor}
.tab-item.active{color:var(--accent-light)}

/* ── Dashboard Stats ── */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:28px}
.stat-card{
    background:var(--bg-card);
    border-radius:14px;
    padding:18px;
    border:1px solid var(--border);
}
.stat-card-icon{
    width:36px;height:36px;
    border-radius:10px;
    display:flex;align-items:center;justify-content:center;
    margin-bottom:10px;
}
.stat-card-icon svg{width:20px;height:20px;fill:currentColor}
.stat-card-value{font-size:26px;font-weight:700;color:var(--text-primary)}
.stat-card-label{font-size:12px;color:var(--text-muted);margin-top:2px}

/* ── Dashboard Sections ── */
.dash-section{margin-bottom:28px}
.dash-section-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:14px;
}
.dash-section-title{font-size:16px;font-weight:600;color:var(--text-primary)}
.dash-section-link{font-size:13px;color:var(--accent-light);cursor:pointer;background:none;border:none;font-family:inherit}
.dash-section-link:hover{text-decoration:underline}

/* ── Dashboard Card Tiles ── */
.dash-cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
.dash-card-tile{
    background:var(--bg-card);
    border-radius:14px;
    padding:18px;
    border:1px solid var(--border);
    border-left:4px solid;
    display:flex;
    align-items:center;
    gap:14px;
}
.dash-card-tile-info{flex:1;min-width:0}
.dash-card-tile-name{font-size:15px;font-weight:600;color:var(--text-primary)}
.dash-card-tile-sub{font-size:12px;color:var(--text-muted);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dash-card-tile-actions{display:flex;gap:6px}
.dash-tile-btn{
    width:40px;height:40px;
    border-radius:8px;
    border:none;
    background:rgba(255,255,255,.06);
    cursor:pointer;
    display:flex;align-items:center;justify-content:center;
}
.dash-tile-btn:hover{background:rgba(255,255,255,.1)}
.dash-tile-btn:active{transform:scale(.9)}
.dash-tile-btn svg{width:16px;height:16px;fill:var(--text-secondary)}

/* ── Activity Feed ── */
.activity-list{display:flex;flex-direction:column;gap:0}
.activity-item{
    display:flex;
    align-items:flex-start;
    gap:12px;
    padding:12px 0;
    border-bottom:1px solid var(--border);
}
.activity-item:last-child{border-bottom:none}
.activity-dot{
    width:8px;height:8px;
    border-radius:50%;
    background:var(--accent);
    margin-top:6px;
    flex-shrink:0;
}
.activity-text{flex:1;min-width:0}
.activity-name{font-size:14px;font-weight:500;color:var(--text-primary)}
.activity-detail{font-size:12px;color:var(--text-muted);margin-top:1px}
.activity-time{font-size:11px;color:var(--text-muted);flex-shrink:0;margin-top:4px}


/* ── Settings Page ── */
.settings-section{margin-bottom:28px}
.settings-section-title{
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:1px;
    color:var(--text-muted);
    font-weight:600;
    margin-bottom:10px;
    padding-left:4px;
}
.settings-group{
    background:var(--bg-card);
    border-radius:14px;
    border:1px solid var(--border);
    overflow:hidden;
}
.settings-group .settings-item{
    margin-bottom:0;
    border-radius:0;
    background:transparent;
    border-bottom:1px solid var(--border);
}
.settings-group .settings-item:last-child{border-bottom:none}

/* ── Responsive ── */
@media(max-width:767px){
    .sidebar{display:none}
    .bottom-tabs{display:flex}
    .page{padding:14px;padding-top:calc(14px + env(safe-area-inset-top));padding-bottom:calc(68px + env(safe-area-inset-bottom))}
    .stats-row{grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:14px}
    .stat-card{padding:10px 12px}
    .stat-card-icon{display:none}
    .stat-card-value{font-size:20px}
    .stat-card-label{font-size:11px}
    .dash-cards-grid{grid-template-columns:1fr}
    .page-header{margin-bottom:14px}
    .page-header h1{font-size:18px}
    .dash-section{margin-bottom:18px}
    #dashQuickShare > div:last-child{padding:14px}
    #dashQuickShare .qr-card{max-width:none;padding:12px}
    .qr-canvas-wrap{padding:8px;border-radius:10px}
    .qr-btn-row{margin-top:8px;gap:6px}
    .qr-copy-btn{padding:8px;margin-top:0;font-size:12px;border-radius:8px}
}
@media(min-width:768px) and (max-width:1024px){
    .sidebar{width:68px}
    .sidebar-brand-name{display:none}
    .sidebar-brand{justify-content:center;padding:16px 8px}
    .nav-item{justify-content:center;padding:12px}
    .nav-item-label{display:none}
    .sidebar-user{flex-direction:column;padding:12px 8px;gap:6px}
    .sidebar-user-info{display:none}
    .sidebar-signout{width:36px;height:36px}
}
@media(max-width:480px){
    .stats-row{grid-template-columns:repeat(3,1fr);gap:4px;margin-bottom:10px}
    .stat-card{padding:8px 10px}
    .stat-card-value{font-size:18px}
    .page-header{margin-bottom:10px}
    .page-header h1{font-size:18px}
    .dash-cards-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
    .card-tab{font-size:12px}
    #dashQuickShare .qr-card{max-width:none;padding:10px}
}
@media(max-width:360px){
    .stats-row{grid-template-columns:repeat(3,1fr)}
    .stat-card-value{font-size:18px}
    .tab-item{font-size:9px}
    .tab-item svg{width:20px;height:20px}
    .ob-templates{grid-template-columns:repeat(2,1fr)}
}

/* Loading Screen */
#loadingScreen{position:fixed;inset:0;z-index:99999;background:var(--bg-base);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;transition:opacity 0.3s ease}
#loadingScreen.fade-out{opacity:0;pointer-events:none}
.loading-logo{font-size:28px;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.loading-spinner{width:32px;height:32px;border:3px solid var(--bg-elevated);border-top-color:var(--accent);border-radius:50%;animation:lspin 0.8s linear infinite}
@keyframes lspin{to{transform:rotate(360deg)}}

/* App Container Fade-in */
#appContainer{opacity:0;transition:opacity 0.3s ease}
#appContainer.visible{opacity:1}

/* Skeleton Loaders */
.skeleton{background:var(--bg-elevated);border-radius:6px;position:relative;overflow:hidden}
.skeleton::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.04),transparent);animation:shimmer 1.5s infinite}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.skeleton-tile{background:var(--bg-card);border-radius:12px;padding:16px;border-left:3px solid var(--bg-elevated)}

/* Onboarding Wizard */
.ob-wizard{position:fixed;inset:0;background:rgba(0,0,0,.92);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);z-index:300;display:none;align-items:center;justify-content:center;padding:20px}
.ob-wizard.show{display:flex}
.ob-wizard-inner{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;width:100%;max-width:min(480px, calc(100vw - 32px));overflow:hidden;animation:obSlideUp .4s cubic-bezier(.16,1,.3,1)}
@keyframes obSlideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.ob-progress{display:flex;gap:6px;padding:20px 24px 0}
.ob-progress-bar{flex:1;height:4px;border-radius:2px;background:var(--bg-elevated);transition:background .3s}
.ob-progress-bar.active,.ob-progress-bar.done{background:var(--accent)}
.ob-step{display:none;padding:24px}
.ob-step.active{display:block;animation:obFade .3s ease}
@keyframes obFade{from{opacity:0;transform:translateX(10px)}to{opacity:1;transform:translateX(0)}}
.ob-step h2{font-size:22px;font-weight:700;color:var(--text-primary);margin:0 0 4px}
.ob-step p.ob-desc{color:var(--text-muted);font-size:14px;margin:0 0 20px}
.ob-field{margin-bottom:14px}
.ob-field label{display:block;font-size:13px;font-weight:600;color:var(--text-secondary);margin-bottom:6px}
.ob-field input{width:100%;padding:12px 14px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;color:var(--text-primary);font-size:15px;outline:none;transition:border .2s}
.ob-field input:focus{border-color:var(--accent)}
.ob-actions{display:flex;gap:10px;padding:0 24px 24px}
.ob-btn-primary{flex:1;padding:14px;background:linear-gradient(135deg,var(--accent),#8b5cf6);color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .15s}
.ob-btn-primary:active{transform:scale(.97)}
.ob-btn-primary:disabled{opacity:.5;cursor:wait}
.ob-btn-secondary{padding:14px 20px;background:var(--bg-elevated);color:var(--text-secondary);border:1px solid var(--border);border-radius:12px;font-size:15px;cursor:pointer}
.ob-templates{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:4px}
.ob-tpl{border-radius:10px;padding:24px 8px 10px;text-align:center;cursor:pointer;border:2px solid transparent;transition:border .2s,transform .15s}
.ob-tpl:hover{transform:scale(1.05)}
.ob-tpl.selected{border-color:#fff}
.ob-tpl-name{font-size:11px;color:rgba(255,255,255,.9);font-weight:600;margin-top:4px}
.ob-share{text-align:center;padding:8px 0}
.ob-share-qr{margin:16px auto;width:180px;height:180px;background:var(--bg-elevated);border-radius:12px;display:flex;align-items:center;justify-content:center}
.ob-share-link{display:flex;gap:8px;margin:16px 0}
.ob-share-link input{flex:1;padding:10px 12px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:8px;color:var(--text-primary);font-size:13px;outline:none}
.ob-share-link button{padding:10px 16px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;font-size:13px}
@media(max-width:420px){.ob-templates{grid-template-columns:repeat(3,1fr)}}

/* ── Team Panel ── */
.team-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px}
.team-stat{text-align:center;padding:14px 8px;background:var(--bg-elevated);border-radius:10px}
.team-stat-num{font-size:24px;font-weight:700;color:var(--accent-light)}
.team-stat-label{font-size:12px;color:var(--text-muted);margin-top:2px}
.team-member{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-elevated);border-radius:10px;margin-bottom:8px}
.team-member-avatar{width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:#fff;flex-shrink:0}
.team-member-info{flex:1;min-width:0}
.team-member-name{font-size:14px;font-weight:600;color:var(--text-primary)}
.team-member-meta{font-size:12px;color:var(--text-muted)}
.team-member-badge{font-size:11px;padding:2px 8px;border-radius:10px;background:rgba(99,102,241,.12);color:var(--accent-light);font-weight:600}
.team-member-remove{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:6px;font-size:18px;opacity:.5}
.team-member-remove:hover{opacity:1;color:#ef4444}
.team-invite-row{display:flex;gap:8px;margin-bottom:16px}
.team-invite-row input{flex:1;padding:10px 14px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;color:var(--text-primary);font-size:14px;outline:none}
.team-invite-row button{padding:10px 18px;background:var(--accent);color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;font-size:14px;white-space:nowrap}
.team-pending{padding:8px 12px;background:rgba(245,158,11,.08);border-radius:8px;margin-bottom:6px;display:flex;align-items:center;justify-content:space-between;font-size:13px;color:var(--text-secondary)}

/* ── Connections Page ── */
.conn-list{display:flex;flex-direction:column;gap:8px}
.conn-item{display:flex;align-items:center;gap:14px;padding:14px 16px;background:var(--bg-card);border:1px solid var(--border);border-radius:12px;cursor:pointer;transition:border-color .2s}
.conn-item:hover{border-color:var(--border-hover)}
.conn-avatar{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;color:#fff;flex-shrink:0}
.conn-info{flex:1;min-width:0}
.conn-name{font-size:15px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.conn-meta{font-size:13px;color:var(--text-muted);margin-top:2px}
.conn-badge{font-size:11px;padding:3px 10px;border-radius:20px;font-weight:600;flex-shrink:0}
.conn-badge.sent{background:rgba(99,102,241,.12);color:var(--accent-light)}
.conn-badge.received{background:rgba(16,185,129,.12);color:#10b981}
.conn-tabs{display:flex;gap:4px;margin-bottom:16px}
.conn-tab{padding:8px 16px;border-radius:8px;border:none;background:var(--bg-elevated);color:var(--text-muted);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}
.conn-tab.active{background:var(--accent);color:#fff}
.conn-count{display:inline-block;background:rgba(255,255,255,.15);padding:1px 7px;border-radius:10px;font-size:12px;margin-left:6px}
.conn-empty{text-align:center;padding:48px 20px;color:var(--text-muted)}
.conn-empty svg{display:block;margin:0 auto 12px;opacity:.4}
.conn-empty p{margin:0 0 4px}

/* ── Email Signature Generator Modal ── */
.sig-modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:260;padding:20px;padding-bottom:calc(20px + env(safe-area-inset-bottom));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.sig-modal.show{display:flex}
.sig-content{background:#252538;border-radius:20px;width:100%;max-width:520px;max-height:90vh;overflow-y:auto;border:1px solid rgba(255,255,255,.1)}
.sig-header{padding:20px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;justify-content:space-between;align-items:center}
.sig-header h3{font-size:17px;font-weight:600}
.sig-close{background:none;border:none;color:rgba(255,255,255,.5);font-size:24px;cursor:pointer}
.sig-body{padding:20px}
.sig-select-row{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.sig-select-row select{flex:1;background:rgba(255,255,255,.08) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='rgba(255,255,255,0.6)'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") no-repeat right 10px center;color:#fff;border:none;border-radius:8px;padding:10px 32px 10px 12px;font-family:inherit;font-size:13px;font-weight:500;-webkit-appearance:none;appearance:none;cursor:pointer}
.sig-select-row select option{background:#252538;color:#fff}
.sig-preview{background:#fff;border-radius:12px;padding:20px;margin-bottom:16px;overflow:hidden}
.sig-preview table{border-collapse:collapse;font-family:Arial,Helvetica,sans-serif}
.sig-preview td{vertical-align:top}
.sig-actions{display:flex;gap:10px}
.sig-copy-btn{flex:1;padding:14px;border:none;border-radius:12px;background:var(--accent);color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s}
.sig-copy-btn:active{transform:scale(.97)}
.sig-copy-btn.copied{background:var(--success)}
.sig-copy-btn svg{width:18px;height:18px;fill:currentColor}
.sig-setup-toggle{margin-top:16px;font-size:13px;color:var(--accent-light);cursor:pointer;display:flex;align-items:center;gap:6px;border:none;background:none;font-family:inherit;padding:0}
.sig-setup-toggle svg{width:14px;height:14px;fill:currentColor;transition:transform .3s}
.sig-setup-toggle.open svg{transform:rotate(180deg)}
.sig-setup-guide{max-height:0;overflow:hidden;transition:max-height .3s ease}
.sig-setup-guide.open{max-height:400px}
.sig-setup-guide-inner{padding-top:12px}
.sig-setup-step{padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:13px;color:var(--text-secondary)}
.sig-setup-step:last-child{border-bottom:none}
.sig-setup-step strong{color:var(--text-primary);display:block;margin-bottom:4px}

/* ── Card Templates ── */
.template-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:16px}
.template-card{border-radius:12px;padding:16px 14px;cursor:pointer;border:2px solid transparent;transition:all .2s;position:relative;overflow:hidden;text-align:center}
.template-card:active{transform:scale(.97)}
.template-card.selected{border-color:#fff;box-shadow:0 0 0 2px rgba(255,255,255,.3)}
.template-card::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse 80% 50% at 25% 15%,rgba(255,255,255,.12),transparent);pointer-events:none}
.template-name{font-size:12px;font-weight:600;color:#fff;position:relative;z-index:1}
.template-label{font-size:10px;color:rgba(255,255,255,.5);margin-top:2px;position:relative;z-index:1}
.template-check{position:absolute;top:8px;right:8px;width:20px;height:20px;border-radius:50%;background:#fff;display:none;align-items:center;justify-content:center}
.template-card.selected .template-check{display:flex}
.template-check svg{width:12px;height:12px}

/* ═══ DASHBOARD UI POLISH ═══ */

/* ── Global smooth transitions ── */
html{scroll-behavior:smooth}
.main-content{scroll-behavior:smooth}
button,a,.stat-card,.dash-card-tile,.activity-item,.nav-item,.tab-item,.settings-item,.settings-group{
    transition:all .2s ease;
}

/* ── Page transitions (fade-in via animation) ── */
@keyframes pageFadeIn{
    from{opacity:0;transform:translateY(6px)}
    to{opacity:1;transform:translateY(0)}
}
.page.active{
    animation:pageFadeIn .25s ease both;
}

/* ── Stats Row Polish ── */
.stat-card{
    position:relative;
    border-left:3px solid transparent;
    transition:transform .2s ease,box-shadow .2s ease;
}
.stat-card:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 24px rgba(0,0,0,.25);
}
.stat-card:nth-child(1){
    background:linear-gradient(135deg,var(--bg-card),rgba(99,102,241,.06));
    border-left-color:#818cf8;
}
.stat-card:nth-child(2){
    background:linear-gradient(135deg,var(--bg-card),rgba(74,222,128,.06));
    border-left-color:#4ade80;
}
.stat-card:nth-child(3){
    background:linear-gradient(135deg,var(--bg-card),rgba(251,191,36,.06));
    border-left-color:#fbbf24;
}
/* Better skeleton in stat cards */
.stat-card .skeleton{border-radius:8px}

/* ── Quick Share Section Card Container ── */
#dashQuickShare > div:last-child{
    background:var(--bg-card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:18px;
}
#dashQuickShare .qr-card{
    background:rgba(255,255,255,.02);
    border-right:1px solid var(--border);
    padding-right:16px;
    margin:0;
}
@media(max-width:560px){
    #dashQuickShare .qr-card{border-right:none;border-bottom:1px solid var(--border);padding-right:0;padding-bottom:16px}
}
.qs-side-panel{display:flex;flex-direction:column;gap:8px;flex:1;min-width:180px}
@media(max-width:560px){.qs-side-panel{display:none}}
#statusBadges{line-height:1.8}

/* ── Dashboard Card Tiles Enhancement ── */
.dash-card-tile{
    position:relative;
    transition:transform .2s ease,box-shadow .2s ease;
    cursor:default;
}
.dash-card-tile:hover{
    transform:translateY(-2px) scale(1.01);
    box-shadow:0 6px 20px rgba(0,0,0,.2);
}
/* Color dot indicator */
.dash-card-tile::before{
    content:'';
    position:absolute;
    top:50%;
    left:12px;
    transform:translateY(-50%);
    width:8px;
    height:8px;
    border-radius:50%;
    background:var(--tile-color,var(--accent));
    opacity:.7;
}
.dash-card-tile{padding-left:28px}
/* Tile entrance animation */
@keyframes tileIn{
    from{opacity:0;transform:translateY(10px)}
    to{opacity:1;transform:translateY(0)}
}
.dash-card-tile{animation:tileIn .35s ease both}
.dash-card-tile:nth-child(2){animation-delay:.05s}
.dash-card-tile:nth-child(3){animation-delay:.1s}
.dash-card-tile:nth-child(4){animation-delay:.15s}
.dash-card-tile:nth-child(5){animation-delay:.2s}
/* Empty state card improvement */
.dash-cards-grid .empty-state-card{
    background:var(--bg-card);
    border:2px dashed var(--border);
    border-radius:14px;
    padding:32px 24px;
    text-align:center;
    color:var(--text-muted);
}
.dash-cards-grid .empty-state-card svg{margin-bottom:8px;opacity:.4}

/* ── Activity Feed Polish ── */
.activity-item{
    border-radius:8px;
    padding:12px 10px;
    margin:0 -10px;
    transition:background .15s ease;
}
.activity-item:hover{
    background:rgba(255,255,255,.03);
}
/* Color-coded dots */
.activity-dot.dot-lead{background:#10b981}
.activity-dot.dot-tap{background:#60a5fa}
.activity-dot.dot-share{background:#c084fc}
/* Activity feed max-height + fade */
.activity-list{
    max-height:380px;
    overflow-y:auto;
    position:relative;
    -webkit-mask-image:linear-gradient(to bottom,#000 85%,transparent 100%);
    mask-image:linear-gradient(to bottom,#000 85%,transparent 100%);
}
.activity-list::-webkit-scrollbar{width:4px}
.activity-list::-webkit-scrollbar-track{background:transparent}
.activity-list::-webkit-scrollbar-thumb{background:var(--bg-elevated);border-radius:2px}
/* Empty activity state */
.activity-empty{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
    padding:32px 24px;
    text-align:center;
    color:var(--text-muted);
    font-size:14px;
}
.activity-empty svg{width:32px;height:32px;fill:var(--text-muted);opacity:.35;margin-bottom:4px}

/* ── Sidebar & Navigation Polish ── */
.sidebar{
    border-right:1px solid rgba(30,41,59,.7);
}
.sidebar-brand{
    border-bottom:1px solid rgba(30,41,59,.5);
    padding-bottom:18px;
    margin-bottom:2px;
}
.nav-item{
    transition:all .2s ease;
    position:relative;
    border-left:3px solid transparent;
    margin-left:-3px;
}
.nav-item:hover{
    background:var(--bg-hover);
    color:var(--text-primary);
}
.nav-item.active{
    background:rgba(99,102,241,.12);
    color:var(--accent-light);
    border-left-color:var(--accent);
    box-shadow:inset 0 0 12px rgba(99,102,241,.06);
}
.nav-item.active svg{opacity:1;filter:drop-shadow(0 0 3px rgba(99,102,241,.3))}

/* Tablet collapsed sidebar — tooltip via title attr */
@media(min-width:768px) and (max-width:1024px){
    .nav-item{border-left:none;margin-left:0}
    .nav-item.active{border-bottom:2px solid var(--accent);border-left:none}
    .nav-item[title]{position:relative}
}

/* ── Mobile Bottom Tab Bar ── */
.bottom-tabs{
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    background:rgba(20,20,42,.95);
}
.tab-item{
    position:relative;
    padding:8px 0;
    min-height:48px;
    transition:color .2s ease;
}
.tab-item.active::before{
    content:'';
    position:absolute;
    top:0;
    left:50%;
    transform:translateX(-50%);
    width:24px;
    height:3px;
    border-radius:0 0 3px 3px;
    background:var(--accent-light);
}
.tab-item svg{width:24px;height:24px}

/* ── Pro Trial Banner Shimmer ── */
#proTrialBanner button:last-child{
    position:relative;
    overflow:hidden;
}
#proTrialBanner button:last-child::after{
    content:'';
    position:absolute;
    top:0;left:-100%;
    width:60%;height:100%;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);
    animation:shimmerCta 3s ease-in-out infinite;
}
@keyframes shimmerCta{0%{left:-100%}50%{left:100%}100%{left:100%}}

/* ── Lead Usage Bar Animation ── */
#leadUsageFill{
    transition:width .8s cubic-bezier(.4,0,.2,1),background .5s ease;
}

/* ── Loading Screen Fade ── */
#loadingScreen{
    animation:loadFadeIn .3s ease;
}
@keyframes loadFadeIn{from{opacity:0}to{opacity:1}}

/* ── Version Tag Polish ── */
.version-tag{
    font-size:10px;
    color:rgba(255,255,255,.12);
    padding:6px 10px;
    border-radius:6px;
    transition:color .2s ease,background .2s ease;
}
.version-tag:hover{
    color:rgba(255,255,255,.3);
    background:rgba(255,255,255,.03);
}

/* ── Border Radius Consistency ── */
.stat-card,.dash-card-tile,.settings-group,.onboarding-welcome{border-radius:14px}
#leadUsageBar{border-radius:14px}
#proTrialBanner{border-radius:14px}

/* ── NFC Tap-to-Share ── */
.nfc-share-btn{
    display:flex;align-items:center;gap:10px;
    width:100%;padding:12px 14px;margin-top:8px;
    background:var(--bg-elevated);
    border:1.5px solid rgba(99,102,241,.4);
    border-radius:12px;cursor:pointer;
    font-family:inherit;font-size:13px;font-weight:600;
    color:var(--text-primary);
    transition:all .2s ease;
}
.nfc-share-btn:active{transform:scale(.97);background:var(--bg-hover)}
.nfc-share-btn svg{width:22px;height:22px;fill:var(--accent-light);flex-shrink:0}
.nfc-share-badge{
    margin-left:auto;
    padding:2px 8px;border-radius:6px;
    font-size:10px;font-weight:700;letter-spacing:.5px;
    background:rgba(99,102,241,.15);color:var(--accent-light);
}
/* NFC FAB */
.nfc-fab{
    display:none;position:fixed;
    right:20px;bottom:calc(70px + env(safe-area-inset-bottom));
    width:56px;height:56px;border-radius:50%;
    background:linear-gradient(135deg,#6366f1,#8b5cf6);
    border:none;cursor:pointer;z-index:99;
    box-shadow:0 4px 20px rgba(99,102,241,.4);
    align-items:center;justify-content:center;
    transition:transform .2s ease,opacity .2s ease;
}
.nfc-fab:active{transform:scale(.9)}
.nfc-fab svg{width:28px;height:28px;fill:#fff}
@media(max-width:767px){
    .nfc-fab.visible{display:flex}
}
/* NFC Overlay */
.nfc-overlay{
    display:none;position:fixed;inset:0;
    background:rgba(0,0,0,.85);
    z-index:250;
    align-items:center;justify-content:center;
    flex-direction:column;gap:24px;
    backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
}
.nfc-overlay.show{display:flex}
.nfc-rings{position:relative;width:180px;height:180px}
.nfc-ring{
    position:absolute;inset:0;
    border:2px solid rgba(99,102,241,.3);
    border-radius:50%;
    animation:nfcPulse 2s ease-out infinite;
}
.nfc-ring:nth-child(2){animation-delay:.4s}
.nfc-ring:nth-child(3){animation-delay:.8s}
@keyframes nfcPulse{
    0%{transform:scale(.5);opacity:1}
    100%{transform:scale(1.3);opacity:0}
}
.nfc-rings-icon{
    position:absolute;top:50%;left:50%;
    transform:translate(-50%,-50%);
    width:56px;height:56px;
    background:linear-gradient(135deg,#6366f1,#8b5cf6);
    border-radius:50%;
    display:flex;align-items:center;justify-content:center;
}
.nfc-rings-icon svg{width:30px;height:30px;fill:#fff}
.nfc-overlay-text{
    font-size:18px;font-weight:600;
    color:var(--text-primary);text-align:center;
}
.nfc-overlay-sub{
    font-size:13px;color:var(--text-muted);
    text-align:center;margin-top:-16px;
}
.nfc-overlay-card{
    background:var(--bg-elevated);
    border:1px solid var(--border);
    border-radius:12px;padding:12px 20px;
    font-size:13px;color:var(--text-secondary);
    text-align:center;max-width:260px;
}
.nfc-overlay-cancel{
    padding:12px 32px;
    background:rgba(255,255,255,.1);
    border:none;border-radius:12px;
    color:#fff;font-family:inherit;
    font-size:14px;font-weight:600;
    cursor:pointer;
}
.nfc-overlay-cancel:active{background:rgba(255,255,255,.15)}
/* Success state */
.nfc-overlay.success .nfc-ring{border-color:rgba(16,185,129,.4)}
.nfc-overlay.success .nfc-rings-icon{background:linear-gradient(135deg,#10b981,#059669)}
/* Fallback state */
.nfc-fallback{
    display:flex;flex-direction:column;
    align-items:center;gap:16px;
    max-width:300px;
}
.nfc-fallback-qr{
    background:#fff;border-radius:12px;padding:12px;
}
.nfc-fallback-qr canvas{display:block}
.nfc-fallback-share{
    display:flex;gap:10px;width:100%;
}
.nfc-fallback-share button{
    flex:1;padding:12px;
    border:none;border-radius:10px;
    font-family:inherit;font-size:13px;font-weight:600;
    cursor:pointer;
}
.nfc-fallback-share .nfc-share-link{
    background:var(--accent);color:#fff;
}
.nfc-fallback-share .nfc-close-fb{
    background:rgba(255,255,255,.1);color:#fff;
}

/* ── Cards Segmented Control ── */
.cards-segment-control{
    display:flex;background:var(--bg-elevated);border-radius:10px;
    padding:3px;margin-bottom:16px;gap:2px;
}
.cards-segment-tab{
    flex:1;padding:8px 0;text-align:center;font-size:13px;font-weight:600;
    color:var(--text-muted);background:none;border:none;border-radius:8px;
    cursor:pointer;transition:all .2s;font-family:inherit;
}
.cards-segment-tab.active{
    background:var(--bg-card);color:var(--text-primary);box-shadow:0 1px 3px rgba(0,0,0,.2);
}
.cards-tab-content{display:none}
.cards-tab-content.active{display:block}

/* ── Dashboard Card Chips ── */
.card-chips-row{
    display:flex;gap:8px;overflow-x:auto;padding:0 0 12px;
    scrollbar-width:none;-webkit-overflow-scrolling:touch;
}
.card-chips-row::-webkit-scrollbar{display:none}
.card-chip{
    padding:8px 16px;border-radius:20px;font-size:13px;font-weight:600;
    white-space:nowrap;border:1px solid var(--border);background:var(--bg-card);
    color:var(--text-secondary);cursor:pointer;flex-shrink:0;transition:all .2s;
    font-family:inherit;
}
.card-chip.active{
    background:var(--accent);color:#fff;border-color:var(--accent);
}
.card-chip:active{transform:scale(.95)}

/* ── Leads Sub-Header (inside cards tab) ── */
.leads-sub-header{
    display:flex;align-items:center;gap:8px;margin-bottom:12px;
}

