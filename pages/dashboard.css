/* Variables & reset provided by theme.css */
button,a,input,select{-webkit-tap-highlight-color:transparent;touch-action:manipulation}

/* ── Screens ── */
.screen{
    position:fixed;
    inset:0;
    z-index:99999;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:24px;
    padding-top:calc(24px + env(safe-area-inset-top));
    padding-bottom:calc(24px + env(safe-area-inset-bottom));
    transition:opacity .25s ease-out,transform .25s ease-out;
}
.screen.hidden{opacity:0;pointer-events:none;transform:scale(.97)}

/* ── Idle Screen ── */
#idle .pulse-ring{
    width:88px;
    height:88px;
    border-radius:50%;
    border:2px solid var(--glass-hover);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    margin-bottom:20px;
}
#idle .pulse-ring::before{
    content:'';
    position:absolute;
    inset:0;
    border-radius:50%;
    border:2px solid var(--glass-border);
    animation:pulse 2s ease-out infinite;
}
@keyframes pulse{0%{transform:scale(1);opacity:.5}100%{transform:scale(1.6);opacity:0}}
#idle .nfc-icon svg{width:36px;height:36px;fill:var(--text-muted)}
/* ── Status Header ── */
.status-header{
    display:flex;
    align-items:center;
    gap:16px;
    width:100%;
    max-width:360px;
    padding:16px;
    background:var(--glass-bg);
    border-radius:16px;
    margin-bottom:20px;
}
.status-icon{
    width:48px;
    height:48px;
    border-radius:12px;
    background:var(--glass-border);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    cursor:pointer;
    flex-shrink:0;
}
.status-icon:active{transform:scale(.95)}
.status-icon svg{width:24px;height:24px;fill:var(--glass-text)}
.status-icon.notif-on{background:rgba(34,197,94,.15)}
.status-icon.notif-on svg{fill:#4ade80}
.status-dot{
    position:absolute;
    top:4px;right:4px;
    width:10px;height:10px;
    border-radius:50%;
    background:#ef4444;
    border:2px solid var(--bg-base);
    display:none;
}
.status-dot.on{background:#4ade80;display:block}
.status-dot.off{background:#ef4444;display:block}
.status-text{flex:1;min-width:0}
.status-text h2{font-size:16px;font-weight:600;color:var(--text-primary);margin:0}
.status-text p{font-size:12px;color:var(--text-muted);margin:0;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.status-stat{
    text-align:center;
    padding:8px 12px;
    background:var(--glass-bg);
    border-radius:10px;
    cursor:pointer;
    flex-shrink:0;
}
.status-stat:active{transform:scale(.95)}
.stat-num{color:var(--text-primary)}
.stat-label{font-size:12px;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}

/* ── QR Card ── */
.qr-card{
    background:var(--glass-bg);
    border-radius:20px;
    padding:16px;
    width:100%;
    max-width:340px;
    margin-bottom:24px;
}
.qr-card-header{
    display:flex;
    align-items:center;
    gap:8px;
    margin-bottom:12px;
}
.qr-card-header select{
    flex:1;
    background:var(--glass-border) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='%2394A3B8'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") no-repeat right 10px center;
    color:var(--text-primary);
    border:none;
    border-radius:8px;
    padding:10px 32px 10px 12px;
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    outline:none;
    -webkit-appearance:none;
    appearance:none;
    cursor:pointer;
}
.qr-card-header select option{background:var(--bg-elevated);color:var(--text-primary)}
.qr-share-btn{
    width:40px;height:40px;
    border-radius:10px;
    border:none;
    background:var(--glass-border);
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
}
.qr-share-btn:active{transform:scale(.95)}
.qr-share-btn svg{width:18px;height:18px;fill:var(--text-secondary)}
.qr-canvas-wrap{
    background:#fff;
    border-radius:14px;
    padding:12px;
    display:block;
    cursor:pointer;
    margin:0 auto;
    width:fit-content;
}
.qr-canvas-wrap:active{transform:scale(.97)}
.qr-canvas-wrap canvas{display:block}
.qr-copy-btn{
    width:100%;
    margin-top:12px;
    padding:12px;
    border:none;
    border-radius:10px;
    background:var(--glass-border);
    color:var(--text-secondary);
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
}
.qr-copy-btn:active{transform:scale(.98)}
.qr-copy-btn svg{width:16px;height:16px;fill:currentColor}
.qr-copy-btn.copied{background:rgba(34,197,94,.15);color:#4ade80}
.qr-btn-row{display:flex;gap:6px;margin-top:12px;flex-wrap:wrap}
.qr-btn-row .qr-copy-btn{flex:1;min-width:0;padding:10px 8px;font-size:12px;gap:4px;min-height:44px}
.qr-btn-row .qr-copy-btn svg{width:14px;height:14px}
.qr-copy-btn.qr-default-on{background:rgba(245,166,35,.15);color:#f5a623}

/* ── Card Switcher Trigger ── */
.cs-trigger{
    display:flex;align-items:center;gap:8px;flex:1;min-width:0;
    background:var(--glass-border);border:1px solid var(--border);
    border-radius:10px;padding:8px 12px;cursor:pointer;
    font-family:inherit;font-size:13px;font-weight:600;
    color:var(--text-primary);transition:all .15s ease;
}
.cs-trigger:hover{background:var(--glass-hover)}
.cs-trigger:active{transform:scale(.97)}
.cs-trigger-dot{
    width:10px;height:10px;border-radius:50%;flex-shrink:0;
    background:var(--accent);
}
.cs-trigger-label{
    flex:1;min-width:0;text-align:left;
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.cs-trigger-chevron{flex-shrink:0;color:var(--text-muted);transition:transform .2s}

/* ── Card Switcher Bottom Sheet ── */
.cs-backdrop{
    position:fixed;inset:0;z-index:9990;
    background:rgba(0,0,0,.5);
    backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);
    opacity:0;pointer-events:none;
    transition:opacity .3s ease;
}
.cs-backdrop.cs-open{opacity:1;pointer-events:auto}
.cs-sheet{
    position:fixed;left:0;right:0;bottom:0;z-index:9991;
    background:var(--bg-sticky);
    backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
    border-top:1px solid var(--glass-border);
    border-radius:20px 20px 0 0;
    padding-bottom:env(safe-area-inset-bottom);
    transform:translateY(100%);
    transition:transform .4s cubic-bezier(.32,.72,0,1);
    max-height:60vh;
    display:flex;flex-direction:column;
}
.cs-sheet.cs-open{transform:translateY(0)}
.cs-handle{
    width:36px;height:4px;border-radius:2px;
    background:var(--glass-hover);
    margin:10px auto 4px;flex-shrink:0;
}
.cs-header{
    display:flex;align-items:center;justify-content:space-between;
    padding:8px 16px 12px;flex-shrink:0;
}
.cs-title{font-size:15px;font-weight:700;color:var(--text-primary)}
.cs-close-btn{
    width:32px;height:32px;border-radius:50%;border:none;
    background:var(--glass-border);color:var(--text-secondary);
    font-size:20px;cursor:pointer;display:flex;align-items:center;
    justify-content:center;font-family:inherit;line-height:1;
    transition:background .15s;
}
.cs-close-btn:hover{background:var(--glass-hover)}
.cs-list{
    overflow-y:auto;padding:0 12px 16px;flex:1;min-height:0;
    -webkit-overflow-scrolling:touch;
}
.cs-card{
    display:flex;align-items:center;gap:12px;width:100%;
    padding:12px;border-radius:12px;border:none;
    background:var(--glass-bg);cursor:pointer;
    font-family:inherit;color:var(--text-primary);
    margin-bottom:6px;transition:background .15s ease;
    text-align:left;
}
.cs-card:last-child{margin-bottom:0}
.cs-card:hover{background:var(--glass-border)}
.cs-card:active{transform:scale(.98)}
.cs-card.cs-active{background:var(--accent-subtle);border:1px solid var(--accent-glow)}
.cs-card-bar{width:4px;height:32px;border-radius:2px;flex-shrink:0}
.cs-card-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:1px}
.cs-card-name{font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cs-card-sub{font-size:12px;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cs-card-star{color:#f5a623;font-size:14px;flex-shrink:0}
.cs-card-check{color:var(--accent);flex-shrink:0}

/* ── Action Grid ── */
.action-grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    width:100%;
    max-width:320px;
}
.action-btn{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:6px;
    padding:16px 8px;
    border-radius:14px;
    border:none;
    background:var(--glass-bg);
    color:var(--text-secondary);
    font-family:inherit;
    font-size:11px;
    font-weight:500;
    cursor:pointer;
    position:relative;
}
.action-btn:active{transform:scale(.95);background:var(--glass-border)}
.action-btn svg{width:22px;height:22px;fill:currentColor;opacity:.7}
.action-btn span{opacity:.8}
.action-btn.active{background:rgba(249,115,22,.15);color:#fdba74}
.action-btn.active svg{fill:#fdba74;opacity:1}
.action-badge{
    position:absolute;
    top:6px;right:6px;
    min-width:18px;height:18px;
    border-radius:9px;
    background:#f97316;
    color:#fff;
    font-size:10px;
    font-weight:700;
    display:none;
    align-items:center;
    justify-content:center;
    padding:0 5px;
}
.action-badge.show{display:flex}

/* ── Version Tag ── */
.version-tag{
    position:fixed;
    bottom:8px;
    right:12px;
    font-size:10px;
    color:var(--glass-hover);
    cursor:pointer;
    padding:4px 8px;
}
.version-tag:active{color:var(--text-muted)}

/* ── Settings Modal ── */
.settings-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:flex-end;
    justify-content:center;
    z-index:200;
    padding:0;
}
.settings-modal.show{display:flex}
.settings-sheet{
    background:var(--bg-elevated);
    border-radius:20px 20px 0 0;
    padding:24px;
    padding-bottom:calc(24px + env(safe-area-inset-bottom));
    width:100%;
    max-width:500px;
    max-height:80vh;
    overflow-y:auto;
}
.settings-title{font-size:18px;font-weight:600;margin-bottom:20px;text-align:center}
.settings-item{
    display:flex;
    align-items:center;
    gap:14px;
    padding:14px;
    background:var(--glass-bg);
    border-radius:12px;
    margin-bottom:10px;
    cursor:pointer;
}
.settings-item:active{background:var(--glass-border)}
.settings-item svg{width:22px;height:22px;fill:var(--glass-text);flex-shrink:0}
.settings-item-text{flex:1}
.settings-item-text strong{display:block;font-size:14px;font-weight:500}
.settings-item-text small{font-size:12px;color:var(--text-muted)}
.settings-close{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:var(--glass-hover);
    color:#fff;
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    margin-top:10px;
}

/* ── Legacy support ── */
.idle-btn{
    font-size:13px;
    padding:10px 18px;
    border-radius:10px;
    cursor:pointer;
    border:none;
    font-family:inherit;
    font-weight:500;
}
.idle-btn:active{transform:scale(.95)}
.notif-on{background:rgba(34,197,94,.15);color:#4ade80}
.notif-off{background:var(--glass-border);color:var(--glass-text)}
.notif-test{background:rgba(34,197,94,.1);color:#4ade80;padding:10px 12px}
.leads-btn{background:var(--glass-border);color:var(--text-secondary)}
.qs-btn{background:rgba(249,115,22,.15);color:#fb923c}
.qs-active{background:rgba(249,115,22,.25);color:#fdba74}
.analytics-btn{background:rgba(251,191,36,.12);color:#fbbf24}
.storage-btn{background:rgba(20,184,166,.12);color:#2dd4bf}
.review-btn{background:rgba(249,115,22,.12);color:#fb923c}
.review-btn.has-items{background:rgba(249,115,22,.25);color:#fdba74;position:relative}
.review-badge{position:absolute;top:-4px;right:-4px;background:#f97316;color:#fff;font-size:11px;font-weight:700;min-width:24px;height:24px;border-radius:12px;display:flex;align-items:center;justify-content:center;padding:0 5px}
.default-btn{background:rgba(236,72,153,.12);color:#f472b6}
.default-active{background:rgba(236,72,153,.2);color:#f9a8d4}
.install-btn{background:linear-gradient(135deg,#f97316,var(--accent-secondary));color:#fff;display:flex;align-items:center;gap:6px}
.install-btn svg{width:16px;height:16px;fill:currentColor}
.install-btn.installed{background:rgba(34,197,94,.15);color:#4ade80}

/* ── Install Modal ── */
.install-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:250;
    padding:24px;
    backdrop-filter:blur(8px);
    -webkit-backdrop-filter:blur(8px);
}
.install-modal.show{display:flex}
.install-modal-content{
    background:linear-gradient(180deg,var(--bg-elevated),var(--bg-base));
    border-radius:24px;
    padding:32px 24px;
    max-width:340px;
    width:100%;
    text-align:center;
    border:1px solid var(--glass-hover);
}
.install-icon{
    width:80px;
    height:80px;
    border-radius:20px;
    background:linear-gradient(135deg,#f97316,var(--accent-secondary));
    display:flex;
    align-items:center;
    justify-content:center;
    margin:0 auto 20px;
    box-shadow:0 8px 32px rgba(249,115,22,.3);
}
.install-icon svg{width:40px;height:40px;fill:#fff}
.install-modal h3{font-size:22px;font-weight:700;margin-bottom:8px}
.install-modal p{font-size:14px;color:var(--text-secondary);margin-bottom:24px;line-height:1.6}
.install-steps{text-align:left;margin-bottom:24px}
.install-step{
    display:flex;
    align-items:center;
    gap:14px;
    padding:14px 0;
    border-bottom:1px solid var(--glass-border);
}
.install-step:last-child{border-bottom:none}
.install-step-num{
    width:28px;
    height:28px;
    border-radius:50%;
    background:rgba(249,115,22,.2);
    color:#fdba74;
    font-size:13px;
    font-weight:700;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-shrink:0;
}
.install-step-text{font-size:14px;color:var(--text-secondary)}
.install-step-text svg{width:18px;height:18px;fill:#60a5fa;vertical-align:middle;margin:0 2px}
.install-primary-btn{
    width:100%;
    padding:16px;
    border:none;
    border-radius:14px;
    background:linear-gradient(135deg,#f97316,var(--accent-secondary));
    color:#fff;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    margin-bottom:12px;
}
.install-primary-btn:active{transform:scale(.98);opacity:.9}
.install-secondary-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:var(--glass-border);
    color:var(--text-secondary);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
}
.install-secondary-btn:active{opacity:.7}
.install-features{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-bottom:24px;
}
.install-feature{text-align:center}
.install-feature svg{width:24px;height:24px;fill:#4ade80;margin-bottom:6px}
.install-feature span{display:block;font-size:11px;color:var(--glass-text)}

.default-badge{
    margin-top:8px;
    font-size:12px;
    padding:6px 14px;
    border-radius:8px;
    background:rgba(236,72,153,.15);
    color:#f472b6;
    display:none;
}
.default-badge.show{display:inline-block}

/* ── Fullscreen QR ── */
.qr-fullscreen{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.9);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:200;
    flex-direction:column;
    gap:24px;
}
.qr-fullscreen.show{display:flex}
.qr-fullscreen .qr-full-wrap{background:#fff;border-radius:20px;padding:24px}
.qr-fullscreen .qr-full-wrap canvas{display:block}
.qr-fullscreen .qr-card-name{color:#fff;font-size:18px;font-weight:600}
.qr-fullscreen .qr-close{
    background:var(--glass-hover);
    border:none;
    color:#fff;
    font-size:15px;
    padding:12px 28px;
    border-radius:12px;
    cursor:pointer;
    font-family:inherit;
    font-weight:500;
}
.qr-fullscreen .qr-close:active{opacity:.7}

/* ── Picker Screen ── */
#picker{background:linear-gradient(180deg,var(--bg-base),var(--bg-elevated))}
.pick-alert{
    font-size:11px;
    color:#4ade80;
    text-transform:uppercase;
    letter-spacing:3px;
    margin-bottom:8px;
    animation:pickAlertPulse 1.5s ease-in-out infinite;
}
@keyframes pickAlertPulse{0%,100%{opacity:1}50%{opacity:.5}}
.pick-title{font-size:24px;font-weight:700;margin-bottom:6px}
.pick-visitor{font-size:13px;color:var(--text-muted);margin-bottom:28px}
.pick-cards{display:flex;flex-direction:column;gap:12px;width:100%;max-width:360px}
.pick-btn{
    width:100%;
    padding:18px 20px;
    border-radius:16px;
    border:none;
    color:#fff;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    text-align:left;
    position:relative;
    opacity:0;
    transform:translateY(20px);
    box-shadow:0 4px 20px rgba(0,0,0,.3);
    transition:transform .15s ease,box-shadow .15s ease;
}
.pick-btn.animate-in{animation:pickBtnIn .4s cubic-bezier(.34,1.56,.64,1) forwards}
@keyframes pickBtnIn{to{opacity:1;transform:translateY(0)}}
.pick-btn:active{transform:scale(.97);box-shadow:0 2px 10px rgba(0,0,0,.2)}
.pick-btn small{display:block;font-weight:400;font-size:12px;opacity:.7;margin-top:2px}
.pick-btn::after{content:'\2192';position:absolute;right:18px;top:50%;transform:translateY(-50%);font-size:18px;opacity:.6;transition:transform .2s ease}
.pick-btn:hover::after{transform:translateY(-50%) translateX(4px)}
.skip-btn{
    margin-top:24px;
    padding:14px 28px;
    border:none;
    border-radius:12px;
    background:var(--glass-border);
    color:var(--text-muted);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
    opacity:0;
    animation:skipBtnIn .3s ease .6s forwards;
}
@keyframes skipBtnIn{to{opacity:1}}
.skip-btn:active{opacity:.7;transform:scale(.97)}

/* ── Sent Screen ── */
#sent{transition:opacity .3s ease,transform .3s ease}
#sent .check{
    width:80px;
    height:80px;
    border-radius:50%;
    background:rgba(34,197,94,.15);
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:20px;
    position:relative;
    animation:checkPop .5s cubic-bezier(.34,1.56,.64,1) forwards;
}
@keyframes checkPop{from{transform:scale(0)}to{transform:scale(1)}}
#sent .check::before{
    content:'';
    position:absolute;
    inset:-4px;
    border-radius:50%;
    border:2px solid rgba(74,222,128,.3);
    animation:checkRing .6s ease-out forwards;
}
@keyframes checkRing{from{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}
#sent .check svg{
    width:40px;height:40px;fill:#4ade80;
    stroke:#4ade80;stroke-width:0;
    animation:checkDraw .4s ease .2s forwards;
    stroke-dasharray:50;stroke-dashoffset:50;
}
@keyframes checkDraw{to{stroke-dashoffset:0}}
#sent h2{font-size:22px;font-weight:600;margin-bottom:4px;animation:fadeUp .4s ease .15s both}
#sent .sent-sub{font-size:14px;color:var(--glass-text);animation:fadeUp .4s ease .2s both}
.sent-auto{font-size:13px;color:var(--text-muted);margin-top:6px;animation:fadeUp .4s ease .25s both}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.return-progress{
    width:120px;height:3px;
    background:var(--glass-hover);
    border-radius:3px;
    margin-top:20px;
    overflow:hidden;
    animation:fadeUp .4s ease .3s both;
}
.return-progress-bar{
    height:100%;
    background:linear-gradient(90deg,#4ade80,#22c55e);
    border-radius:3px;
    animation:returnProgress 1.5s linear forwards;
}
@keyframes returnProgress{from{width:0}to{width:100%}}
.return-text{font-size:11px;color:var(--text-muted);margin-top:8px;animation:fadeUp .4s ease .35s both}
.lead-card{
    background:var(--glass-bg);
    border-radius:14px;
    padding:18px;
    text-align:left;
    margin-top:20px;
    max-width:340px;
    width:100%;
}
.lead-card .lc-label{font-size:12px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);margin-bottom:8px}
.lead-card .lc-name{font-size:17px;font-weight:600}
.lead-card .lc-company{font-size:14px;color:var(--glass-text);margin-top:2px}
.lead-card .lc-contact{margin-top:10px;font-size:14px}
.lead-card a{color:#4ade80;text-decoration:none}
.lead-card a:active{opacity:.7}
.lead-card img{width:100%;border-radius:10px;margin-top:12px;max-height:200px;object-fit:contain}
.lead-card .lc-ocr-status{margin-top:12px;font-size:13px;color:var(--text-muted);display:flex;align-items:center;gap:6px}
.lead-card .lc-ocr-status .spin{animation:spin 1.2s linear infinite}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.lead-item .li-ocr-badge{display:inline-block;font-size:10px;font-weight:600;background:rgba(20,184,166,.15);color:var(--accent-light,#2dd4bf);padding:3px 7px;border-radius:5px;text-transform:uppercase;letter-spacing:.3px}
.lead-item .li-category-badge{display:inline-block;font-size:9px;font-weight:600;background:rgba(139,92,246,.12);color:#a78bfa;padding:2px 6px;border-radius:4px;text-transform:uppercase;letter-spacing:.3px}
.cat-chip{padding:6px 12px;font-size:11px}
.cat-chip.active{background:rgba(139,92,246,.15);border-color:rgba(139,92,246,.6);color:#a78bfa}

/* ── Card Preview Modal ── */
.preview-modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter:blur(10px);
    z-index:2000;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:20px;
    opacity:0;
    pointer-events:none;
    transition:opacity .3s ease;
}
.preview-modal.show{opacity:1;pointer-events:auto}
.preview-modal.show .preview-phone{animation:previewSlideUp .4s cubic-bezier(.34,1.56,.64,1) forwards}
.preview-phone{
    width:100%;
    max-width:340px;
    height:70vh;
    max-height:680px;
    background:#000;
    border-radius:40px;
    padding:12px;
    box-shadow:0 25px 80px rgba(0,0,0,.5),inset 0 0 0 3px #333;
    position:relative;
    transform:translateY(40px);
    opacity:0;
}
@keyframes previewSlideUp{to{transform:translateY(0);opacity:1}}
.preview-phone::before{
    content:'';
    position:absolute;
    top:8px;left:50%;
    transform:translateX(-50%);
    width:80px;height:24px;
    background:#1a1a1a;
    border-radius:14px;
    z-index:10;
}
.preview-iframe{
    width:100%;
    height:100%;
    border:none;
    border-radius:30px;
    background:#fff;
}
.preview-loading{
    position:absolute;
    inset:12px;
    border-radius:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#f8fafc;
    z-index:2;
}
.preview-spinner{
    width:32px;height:32px;
    border:3px solid #e2e8f0;
    border-top-color:var(--accent);
    border-radius:50%;
    animation:spin .8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.preview-close{
    position:absolute;
    top:-60px;right:0;
    width:48px;height:48px;
    border-radius:50%;
    background:var(--glass-hover);
    border:none;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
}
.preview-close:active{transform:scale(.9)}
.preview-close svg{width:24px;height:24px;fill:#fff}
.preview-actions{
    display:flex;
    gap:12px;
    margin-top:20px;
    opacity:0;
    animation:fadeUp .3s ease .3s forwards;
}
.preview-action-btn{
    padding:12px 24px;
    border-radius:12px;
    border:none;
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:8px;
}
.preview-action-btn.primary{background:#4ade80;color:#000}
.preview-action-btn.secondary{background:var(--glass-hover);color:#fff}
.preview-action-btn:active{transform:scale(.95)}
.preview-action-btn svg{width:18px;height:18px;fill:currentColor}

/* ── Leads Dashboard ── */
#leads{
    display:block;
}
.leads-header{
    position:sticky;
    top:0;
    background:var(--bg-sticky);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:16px 20px;
    padding-top:calc(16px + env(safe-area-inset-top));
    display:flex;
    align-items:center;
    gap:12px;
    border-bottom:1px solid var(--glass-border);
    z-index:10;
}
.leads-back{
    width:40px;
    height:40px;
    border-radius:50%;
    background:var(--glass-border);
    border:none;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
}
.leads-back:active{transform:scale(.9);opacity:.8}
.leads-back svg{width:20px;height:20px;fill:var(--text-secondary)}

/* ── Floating Back Button (thumb-friendly) ── */
.float-back{
    position:fixed;
    bottom:24px;
    left:20px;
    height:48px;
    padding:0 18px 0 14px;
    border-radius:24px;
    background:linear-gradient(135deg,#f97316,#ea580c);
    border:none;
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    box-shadow:0 4px 20px rgba(249,115,22,.4),0 2px 8px rgba(0,0,0,.2);
    z-index:50;
    margin-bottom:env(safe-area-inset-bottom);
    animation:floatIn .4s ease;
    transition:transform .2s,box-shadow .2s;
}
@keyframes floatIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.float-back:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(249,115,22,.5),0 4px 12px rgba(0,0,0,.2)}
.float-back:active{transform:scale(.95)}
.float-back svg{width:20px;height:20px;fill:#fff;flex-shrink:0}
.float-back span{color:#fff;font-size:14px;font-weight:600;white-space:nowrap}

/* Swipe hint indicator */
.swipe-hint{
    position:fixed;
    left:0;top:50%;
    transform:translateY(-50%);
    width:4px;
    height:80px;
    background:linear-gradient(180deg,transparent,rgba(249,115,22,.3),transparent);
    border-radius:0 4px 4px 0;
    pointer-events:none;
    opacity:0;
    transition:opacity .3s;
}
.panel-swiping .swipe-hint{opacity:1}

/* ── Cards Management ── */
#cardsPanel{padding:0;position:relative;overflow:hidden}
#cardsPanel::after{content:'';position:absolute;top:0;right:0;bottom:0;width:40px;background:linear-gradient(to right,transparent,var(--bg-base));pointer-events:none;z-index:1;transition:opacity .3s}
#cardsPanel.scrolled-end::after{opacity:0}
#cardsList{
    display:flex;
    gap:24px;
    overflow-x:auto;
    scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling:touch;
    padding:12px 20px 24px;
    scrollbar-width:none;
}
#cardsList::-webkit-scrollbar{display:none}

/* ── Business Card ── */
.bcard{
    flex:0 0 min(330px,calc(100vw - 60px));
    scroll-snap-align:center;
    border-radius:22px;
    overflow:hidden;
    position:relative;
    box-shadow:
        0 2px 8px rgba(0,0,0,.2),
        0 12px 40px rgba(0,0,0,.35),
        0 0 0 1px var(--glass-border) inset;
    transition:transform .3s cubic-bezier(.34,1.56,.64,1),box-shadow .3s;
}
.bcard:hover{transform:translateY(-4px);box-shadow:0 4px 12px rgba(0,0,0,.2),0 20px 60px rgba(0,0,0,.4),0 0 0 1px var(--glass-hover) inset}

/* Deactivated card */
.bcard-inactive{opacity:.55;filter:grayscale(.6)}
.bcard-inactive:hover{transform:none;opacity:.65}
.bcard-inactive-badge{background:rgba(239,68,68,.15);color:#f87171;font-size:12px;text-align:center;padding:8px 12px;font-weight:500}
.bcard-inactive-badge a{color:var(--accent-light);text-decoration:underline}

/* Hero — the gradient top half */
.bcard-hero{
    padding:36px 28px 28px;
    position:relative;
    overflow:hidden;
}
/* Glossy light sweep */
.bcard-hero::before{
    content:'';position:absolute;top:0;left:0;right:0;bottom:0;
    background:
        radial-gradient(ellipse 80% 50% at 25% 15%,var(--glass-hover),transparent),
        radial-gradient(ellipse 60% 40% at 75% 85%,rgba(0,0,0,.12),transparent);
    pointer-events:none;
}
/* Subtle dot pattern */
.bcard-hero::after{
    content:'';position:absolute;top:0;left:0;right:0;bottom:0;
    background-image:radial-gradient(var(--glass-border) 1px,transparent 1px);
    background-size:16px 16px;
    pointer-events:none;
}

/* Layout: left-aligned like a real business card */
.bcard-identity{display:flex;align-items:center;gap:16px;position:relative;z-index:1}
.bcard-avatar{
    width:60px;height:60px;
    border-radius:14px;
    background:var(--glass-hover);
    backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
    border:1.5px solid var(--glass-hover);
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
    box-shadow:0 4px 16px rgba(0,0,0,.2),0 0 0 1px var(--glass-bg) inset;
    flex-shrink:0;
}
.bcard-avatar img{width:100%;height:100%;object-fit:cover}
.bcard-avatar-logo{width:42px;height:42px;object-fit:contain;filter:brightness(1.1)}
.bcard-initials{
    font-size:20px;font-weight:800;letter-spacing:1.5px;color:#fff;
    text-shadow:0 1px 4px rgba(0,0,0,.15);
}
.bcard-text{min-width:0;flex:1}
.bcard-name{
    font-size:19px;font-weight:700;color:#fff;
    letter-spacing:.3px;line-height:1.2;
    text-shadow:0 1px 6px rgba(0,0,0,.12);
}
.bcard-title{
    font-size:12px;font-weight:500;color:var(--text-secondary);
    margin-top:3px;line-height:1.3;
}
.bcard-company{
    font-size:10px;font-weight:600;color:var(--glass-text);
    text-transform:uppercase;letter-spacing:1.5px;margin-top:4px;
}

/* Divider between hero and body */
.bcard-divider{
    height:1px;margin:0 28px;
    background:linear-gradient(90deg,transparent,var(--glass-hover),transparent);
    position:relative;z-index:1;
}

/* Body — contact details on gradient bg */
.bcard-body{
    padding:16px 28px 14px;
    display:flex;flex-direction:column;gap:8px;
    position:relative;
}
.bcard-contact{display:flex;align-items:center;gap:10px;font-size:12px;color:var(--text-secondary)}
.bcard-contact svg{width:13px;height:13px;fill:var(--text-muted);flex-shrink:0}
.bcard-contact span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* Visitor link pill */
.bcard-link{
    display:flex;align-items:center;gap:7px;
    padding:7px 12px;
    background:rgba(0,0,0,.2);
    border:1px solid var(--glass-border);
    border-radius:10px;
    margin-top:4px;
}
.bcard-link svg{flex-shrink:0}
.bcard-link-url{
    font-size:11px;color:var(--text-muted);font-weight:500;
    overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;min-width:0;
}
.bcard-link-copy{
    background:none;border:none;color:var(--text-muted);cursor:pointer;
    padding:3px;display:flex;align-items:center;border-radius:4px;flex-shrink:0;
    transition:all .2s;
}
.bcard-link-copy:hover{color:#fff;transform:scale(1.15)}
.bcard-link-copy.copied{color:#4ade80}

/* Action bar */
.bcard-actions{
    display:flex;gap:1px;
    overflow:hidden;
    border-top:1px solid var(--glass-border);
}
.bcard-action{
    flex:1;
    padding:11px 0;
    border:none;
    background:rgba(0,0,0,.25);
    color:var(--glass-text);
    font-family:inherit;
    font-size:12px;
    font-weight:500;
    cursor:pointer;
    display:flex;align-items:center;justify-content:center;gap:5px;
    transition:all .15s;
    letter-spacing:.2px;
}
.bcard-action:hover{background:var(--glass-border);color:#fff}
.bcard-action:active{transform:scale(.95)}
.bcard-action svg{width:13px;height:13px;fill:currentColor}
.bcard-action.delete-action:hover{background:rgba(248,113,113,.12);color:#f87171}
.bcard-action.bcard-verified{color:#059669;cursor:default;font-weight:600}
.bcard-action.verify-action{color:var(--text-muted)}
.bcard-action.verify-action:hover{background:rgba(5,150,105,.12);color:#059669}
.verify-step{margin:0}
.verify-step h4{margin:0 0 8px;font-size:15px;color:var(--text-primary)}
.verify-step p{margin:0 0 16px;color:var(--text-muted);font-size:14px;line-height:1.5}
.verify-otp-input{display:flex;gap:6px;justify-content:center;margin:16px 0}
.verify-otp-input input{width:44px;height:52px;text-align:center;font-size:22px;font-weight:700;border:2px solid var(--glass-border);border-radius:8px;background:var(--glass-bg);color:var(--text-primary);outline:none}
.verify-otp-input input:focus{border-color:var(--accent)}
.verify-doc-upload{border:2px dashed var(--glass-border);border-radius:10px;padding:16px;margin:8px 0;text-align:center;cursor:pointer;transition:border-color .2s}
.verify-doc-upload:hover{border-color:var(--accent)}
.verify-doc-upload input{display:none}
.verify-doc-list{display:flex;flex-direction:column;gap:8px;margin:12px 0}
.verify-doc-item{display:flex;align-items:center;gap:10px;padding:10px 12px;background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:8px}
.verify-doc-item img{width:48px;height:48px;object-fit:cover;border-radius:6px}
.verify-doc-item .doc-info{flex:1;min-width:0}
.verify-doc-item .doc-name{font-size:13px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.verify-doc-item .doc-label{font-size:12px;color:var(--text-muted)}
.verify-doc-item .doc-remove{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px}
.verify-doc-item .doc-remove:hover{color:#f87171}
.verify-btn{width:100%;padding:12px;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:opacity .2s}
.verify-btn-primary{background:var(--accent);color:#fff}
.verify-btn-primary:hover{opacity:.9}
.verify-btn-primary:disabled{opacity:.5;cursor:not-allowed}
.verify-btn-secondary{background:var(--glass-bg);color:var(--text-primary);border:1px solid var(--glass-border);margin-top:8px}
.verify-status-icon{display:flex;justify-content:center;margin:16px 0}
.verify-status-icon svg{width:48px;height:48px}
.verify-label-select{padding:6px 8px;border-radius:6px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text-primary);font-size:12px}

/* Add card button */
.add-card-btn{
    flex:0 0 min(330px,calc(100vw - 60px));
    scroll-snap-align:center;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:12px;
    min-height:320px;
    border-radius:22px;
    border:2px dashed var(--glass-border);
    background:var(--glass-bg);
    color:var(--text-muted);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    transition:all .3s;
}
.add-card-btn:hover{border-color:var(--glass-hover);color:var(--text-secondary);background:var(--glass-bg)}
.add-card-btn:active{border-color:rgba(249,115,22,.4);color:#f97316;transform:scale(.97)}
.add-card-btn svg{width:32px;height:32px;fill:currentColor;opacity:.6}

/* Card entrance animation */
@keyframes bcardIn{
    from{opacity:0;transform:translateY(20px) scale(.95)}
    to{opacity:1;transform:translateY(0) scale(1)}
}
.bcard,.add-card-btn{animation:bcardIn .5s cubic-bezier(.34,1.56,.64,1) both}

/* Card Edit Modal */
.card-edit-modal{
    position:fixed;inset:0;
    background:rgba(0,0,0,.85);
    z-index:250;
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
}
.card-edit-modal.show{display:flex}
.card-edit-content{
    background:var(--bg-elevated);
    border-radius:20px;
    width:100%;
    max-width:min(400px, calc(100vw - 32px));
    max-height:90vh;
    overflow:hidden;
    padding-bottom:env(safe-area-inset-bottom);
}
.card-edit-header{
    padding:20px;
    border-bottom:1px solid var(--glass-border);
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.card-edit-header h3{font-size:17px;font-weight:600}
.card-edit-close{background:none;border:none;color:var(--glass-text);font-size:24px;cursor:pointer}
.card-edit-body{padding:20px;overflow-x:hidden}
.card-edit-field{margin-bottom:16px;max-width:100%}
.card-edit-field label{display:block;font-size:12px;color:var(--text-muted);margin-bottom:6px;text-transform:uppercase}
.card-edit-field input,.card-edit-field select{
    width:100%;
    max-width:100%;
    padding:10px 12px;
    background:var(--bg-base);
    border:1px solid var(--glass-border);
    border-radius:8px;
    color:var(--text-primary);
    font-family:inherit;
    font-size:16px;
    -webkit-appearance:none;
}
.card-edit-field input:focus,.card-edit-field select:focus{outline:none;border-color:rgba(249,115,22,.5);background:var(--bg-elevated)}
.color-picker-row{display:flex;gap:10px;flex-wrap:wrap}
.color-picker-opt{
    width:44px;height:44px;
    border-radius:12px;
    border:3px solid transparent;
    cursor:pointer;
}
.color-picker-opt:active{transform:scale(.9)}
.color-picker-opt.selected{border-color:#fff}
.card-edit-footer{
    padding:16px 20px;
    border-top:1px solid var(--glass-border);
    display:flex;
    gap:10px;
}
.card-edit-save{
    flex:1;
    padding:14px;
    border:none;
    border-radius:12px;
    background:#f97316;
    color:#fff;
    font-family:inherit;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.card-edit-save:active{opacity:.8}
.card-edit-save:disabled{opacity:.6;cursor:not-allowed}
.card-edit-cancel{
    padding:14px 20px;
    border:1px solid var(--glass-hover);
    border-radius:12px;
    background:transparent;
    color:var(--text-secondary);
    font-family:inherit;
    font-size:15px;
    cursor:pointer;
}
.card-edit-full{max-width:min(520px, calc(100vw - 32px))}
.card-edit-scrollable{max-height:calc(90vh - 140px);overflow-y:auto}
.card-edit-tabs{display:flex;padding:0 12px;border-bottom:1px solid var(--glass-border);overflow-x:auto;-webkit-overflow-scrolling:touch}
.card-tab{
    padding:12px 16px;
    border:none;
    background:none;
    color:var(--text-muted);
    font-family:inherit;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    border-bottom:2px solid transparent;
    white-space:nowrap;
}
.card-tab.active{color:#f97316;border-bottom-color:#f97316}
.card-tab-content{display:none}
.card-tab-content.active{display:block}
.card-edit-row{display:flex;gap:12px}
.card-edit-row .card-edit-field{flex:1;min-width:0}
@media(max-width:480px){.card-edit-row{flex-direction:column;gap:0}}
.card-edit-field textarea{
    width:100%;
    max-width:100%;
    padding:10px 12px;
    background:var(--bg-base);
    border:1px solid var(--glass-border);
    border-radius:8px;
    color:var(--text-primary);
    font-family:inherit;
    font-size:16px;
    resize:vertical;
    min-height:60px;
    -webkit-appearance:none;
}
.card-edit-field textarea:focus{outline:none;border-color:rgba(249,115,22,.5);background:var(--bg-elevated)}
.field-hint{display:block;font-size:11px;color:var(--text-muted);margin-top:4px}
.photo-upload-row{display:flex;gap:8px;align-items:center}
.photo-upload-row input[type="url"]{flex:1;min-width:0}
.photo-upload-btn{
    flex-shrink:0;padding:9px 14px;
    border:1px solid var(--glass-border);border-radius:8px;
    background:var(--bg-base);color:var(--text-secondary);
    font-family:inherit;font-size:13px;cursor:pointer;
    display:flex;align-items:center;gap:5px;white-space:nowrap;
}
.photo-upload-btn:active{background:var(--bg-elevated)}
.photo-upload-btn svg{width:16px;height:16px;fill:currentColor}
.photo-preview{margin-top:8px;display:none}
.photo-preview img{
    max-width:80px;max-height:80px;border-radius:8px;
    object-fit:cover;border:1px solid var(--glass-border);
}
.photo-preview.show{display:flex;align-items:center;gap:8px}
.photo-remove{background:none;border:none;color:var(--danger);font-size:18px;cursor:pointer;padding:4px}
.products-editor{padding:8px 0}
.product-item{
    background:var(--glass-bg);
    border:1px solid var(--glass-border);
    border-radius:12px;
    padding:12px;
    margin-bottom:10px;
}
.product-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.product-item-title{font-size:12px;font-weight:600;color:var(--text-secondary)}
.remove-product{
    background:none;border:none;color:#f87171;cursor:pointer;font-size:18px;padding:0 4px;
}
.product-item input{color:var(--text-primary);
    font-family:inherit;
    font-size:13px;
    margin-bottom:6px;
}
.product-item input:focus{outline:none;border-color:rgba(249,115,22,.4)}
.add-product-btn{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    width:100%;
    padding:12px;
    border:2px dashed var(--glass-hover);
    border-radius:12px;
    background:transparent;
    color:var(--text-muted);
    font-family:inherit;
    font-size:13px;
    cursor:pointer;
}
.add-product-btn:hover{border-color:rgba(249,115,22,.3);color:#f97316}
.add-product-btn svg{width:18px;height:18px;fill:currentColor}

.leads-header h2{font-size:18px;font-weight:600}
.leads-header span{font-size:13px;color:var(--text-muted);margin-left:auto}

.leads-toolbar{
    position:sticky;
    top:73px;
    background:var(--bg-sticky);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:12px 20px;
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    z-index:10;
    border-bottom:1px solid var(--glass-bg);
    align-items:center;
}
.leads-search{
    color:var(--text-primary);
    font-family:inherit;
    font-size:14px;
    outline:none;
    flex:1;
    min-width:120px;
    background:var(--glass-bg);
    border:1px solid var(--glass-border);
    border-radius:10px;
    padding:10px 14px;
}
.leads-search::placeholder{color:var(--text-muted)}
.leads-search:focus{border-color:var(--accent);background:var(--glass-border)}
.csv-btn{
    padding:12px 18px;
    border:none;
    border-radius:12px;
    background:rgba(249,115,22,.15);
    color:#fb923c;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.csv-btn:active{transform:scale(.95)}
.import-btn{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:12px 16px;
    border:none;
    border-radius:12px;
    background:rgba(74,222,128,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.import-btn svg{width:16px;height:16px;fill:#4ade80}
.import-btn:active{transform:scale(.95)}
.toolbar-ghost-btn{display:inline-flex;align-items:center;gap:5px;padding:10px 14px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--text-secondary);font-family:inherit;font-size:12px;font-weight:500;cursor:pointer;white-space:nowrap}
.toolbar-ghost-btn:hover{background:var(--bg-hover);color:var(--text-primary)}
.toolbar-ghost-btn:active{transform:scale(.95)}
.toolbar-ghost-btn svg{fill:currentColor}
.toolbar-mini-btn{padding:8px 12px;border:1px solid var(--glass-border);border-radius:8px;background:transparent;color:var(--text-muted);font-family:inherit;font-size:11px;font-weight:600;cursor:pointer;white-space:nowrap;transition:all .2s}
.toolbar-mini-btn:hover{background:var(--bg-hover);color:var(--text-primary)}
.toolbar-mini-btn.active{background:var(--accent-subtle);color:var(--accent-light);border-color:var(--accent)}
.toolbar-drop-item{display:block;width:100%;text-align:left;padding:10px 14px;background:none;border:none;color:var(--text-primary);font-size:13px;font-weight:500;cursor:pointer;font-family:inherit}
.toolbar-drop-item:hover{background:var(--bg-hover)}
.toolbar-drop-item.active-src{color:var(--accent);font-weight:600}
.toolbar-drop-divider{height:1px;background:var(--border);margin:4px 0}
.toolbar-drop-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--text-muted);padding:8px 14px 4px}
.leads-count-badge{font-size:11px;color:var(--text-muted);background:var(--glass-bg);padding:4px 10px;border-radius:12px;white-space:nowrap;flex-shrink:0}

/* ── Import Review Modal ── */
.import-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:200;display:none;flex-direction:column}
.import-modal.show{display:flex}
.import-header{padding:16px 20px;border-bottom:1px solid var(--glass-border);display:flex;align-items:center;gap:12px}
.import-header h3{flex:1;font-size:17px;font-weight:600}
.import-header button{background:none;border:none;color:var(--glass-text);font-size:14px;cursor:pointer;padding:8px 12px}
.import-header .save-all-btn{background:#f97316;color:#fff;border-radius:10px;font-weight:600}
.import-list{flex:1;overflow-y:auto;padding:12px}
.import-item{background:var(--glass-bg);border-radius:14px;padding:16px;margin-bottom:12px}
.import-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.import-item-name{font-size:16px;font-weight:600}
.import-item-remove{background:none;border:none;color:#f87171;font-size:12px;cursor:pointer;padding:4px 8px}
.import-field{margin-bottom:10px}
.import-field label{display:block;font-size:10px;color:var(--text-muted);margin-bottom:4px;text-transform:uppercase}
.import-field input{color:var(--text-primary);font-family:inherit;font-size:14px}
.import-field input:focus{outline:none;border-color:rgba(249,115,22,.5)}
.import-card-select{color:var(--text-primary);font-family:inherit;font-size:14px}
.import-count{font-size:13px;color:var(--text-muted)}

/* ── Filter Bar ── */
.filter-bar{
    position:sticky;
    top:122px;
    background:var(--bg-sticky);
    backdrop-filter:blur(8px);
    -webkit-backdrop-filter:blur(8px);
    padding:8px 20px 12px;
    display:flex;
    gap:8px;
    z-index:10;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
}
.filter-bar::-webkit-scrollbar{display:none}
.filter-chip{
    font-size:12px;
    padding:8px 14px;
    border-radius:20px;
    border:1px solid var(--glass-hover);
    background:transparent;
    color:var(--glass-text);
    cursor:pointer;
    white-space:nowrap;
    font-family:inherit;
    flex-shrink:0;
}
.filter-chip:active{transform:scale(.95)}
.filter-chip.active{background:var(--accent-subtle,rgba(20,184,166,.15));border-color:var(--accent);color:var(--accent-light,#2dd4bf)}
.card-filter-bar{top:166px;padding-top:0;gap:6px}
.card-filter-bar .filter-label{font-size:11px;color:var(--text-muted);padding:8px 4px 8px 0;flex-shrink:0}
.card-filter-chip{padding:6px 12px;font-size:11px;border-width:2px;border-left-width:3px}
.card-filter-chip.active{background:var(--glass-border)}

/* ── Edit Lead Modal ── */
.edit-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:200;display:none;align-items:center;justify-content:center;padding:20px}
.edit-modal.show{display:flex}
.edit-modal-content{background:var(--bg-elevated);border-radius:20px;width:100%;max-width:min(400px, calc(100vw - 32px));max-height:90vh;overflow-y:auto}
.edit-modal-header{padding:20px;border-bottom:1px solid var(--glass-border);display:flex;justify-content:space-between;align-items:center}
.edit-modal-header h3{font-size:17px;font-weight:600}
.edit-modal-close{background:none;border:none;color:var(--glass-text);font-size:24px;cursor:pointer;padding:0 8px}
.edit-modal-body{padding:20px}
.edit-field{margin-bottom:14px}
.edit-field label{display:block;font-size:11px;color:var(--text-muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
.edit-field input,.edit-field textarea{color:var(--text-primary);font-family:inherit;font-size:14px}
.edit-field input:focus,.edit-field textarea:focus{outline:none;border-color:rgba(249,115,22,.5);background:var(--glass-border)}
.edit-field textarea{resize:vertical;min-height:60px}
.edit-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}
@media(max-width:480px){.edit-row{grid-template-columns:1fr}}
.edit-modal-footer{padding:16px 20px;border-top:1px solid var(--glass-border);display:flex;gap:10px}
.edit-save-btn{flex:1;padding:14px;border:none;border-radius:12px;background:#f97316;color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer}
.edit-save-btn:active{opacity:.8}
.edit-cancel-btn{padding:14px 20px;border:1px solid var(--glass-hover);border-radius:12px;background:transparent;color:var(--text-secondary);font-family:inherit;font-size:15px;cursor:pointer}
.edit-multi-field{display:flex;flex-direction:column;gap:6px}
.edit-multi-row{display:flex;gap:6px;align-items:center}
.edit-multi-row input{flex:1}
.edit-multi-row .edit-remove-btn{background:none;border:none;color:var(--text-muted);font-size:18px;cursor:pointer;padding:0 4px;line-height:1;flex-shrink:0}
.edit-multi-row .edit-remove-btn:hover{color:#ef4444}
.edit-add-btn{background:none;border:none;color:var(--accent,#f97316);font-size:12px;cursor:pointer;padding:4px 0;font-family:inherit;text-align:left}
.edit-add-btn:hover{text-decoration:underline}
.li-preview-more{font-size:10px;color:var(--text-muted);margin-left:4px;background:var(--glass-border);padding:1px 5px;border-radius:8px}

/* ── Reminder Banner ── */
.reminder-banner{display:none;padding:14px 20px;background:rgba(251,146,60,.1);border-bottom:1px solid rgba(251,146,60,.2)}
.reminder-banner.show{display:block}
.reminder-banner-title{font-size:13px;font-weight:600;color:#fb923c;margin-bottom:8px}
.reminder-item{font-size:13px;color:var(--text-secondary);padding:6px 0;display:flex;justify-content:space-between;align-items:center}
.reminder-item a{color:#fb923c;text-decoration:none;font-weight:500}
.reminder-dismiss{background:none;border:none;color:var(--text-muted);font-size:12px;cursor:pointer;padding:4px 8px;font-family:inherit}

/* ── Lead Item ── */
.lead-item{background:var(--glass-bg);margin:6px 0;border-radius:14px;overflow:hidden;transition:all .2s;border:1px solid transparent}
.lead-item:hover{background:var(--glass-border)}
.lead-item.expanded{background:var(--glass-border);border-color:var(--glass-hover)}
.lead-item .li-top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.lead-item .li-name{font-size:17px;font-weight:600}
.lead-item .li-company{font-size:13px;color:var(--glass-text);margin-top:2px}
.lead-item .li-card-badge{font-size:11px;padding:4px 10px;border-radius:8px;background:var(--glass-bg);color:var(--text-muted)}
/* ── Collapsed row ── */
.li-avatar{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;flex-shrink:0;letter-spacing:.5px}
.li-collapsed{display:flex;align-items:center;gap:14px;padding:16px;cursor:pointer;-webkit-user-select:none;user-select:none}
.li-collapsed-left{flex:1;min-width:0;display:flex;flex-direction:column;gap:3px}
.li-collapsed-left .li-name{font-size:15px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-primary)}
.li-collapsed-left .li-company{font-size:12px;color:var(--text-muted);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.li-preview{font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1px}
.li-preview-link{color:var(--text-muted);text-decoration:none}
.li-preview-link:active{color:var(--accent)}
.li-preview-dot{color:var(--glass-text)}
.li-collapsed-right{display:flex;align-items:center;gap:6px;flex-shrink:0}
.li-chevron{width:18px;height:18px;fill:var(--text-muted);transition:transform .25s ease;flex-shrink:0}
.lead-item.expanded .li-chevron{transform:rotate(180deg)}
.li-time-compact{font-size:11px;color:var(--text-muted);white-space:nowrap}
.exchange-badge-sm{font-size:10px;font-weight:700;padding:3px 7px;border-radius:5px;background:rgba(16,185,129,.15);color:#10b981;letter-spacing:.3px;text-transform:uppercase}
/* ── Expanded body ── */
.li-expanded{padding:0 16px 16px;display:none}
.lead-item.expanded .li-expanded{display:block}
.lead-exchange{border-left:3px solid #10b981}
.exchange-badge{display:inline-block;font-size:11px;font-weight:700;padding:3px 8px;border-radius:6px;background:rgba(16,185,129,.15);color:#10b981;letter-spacing:.3px;text-transform:uppercase;margin-bottom:4px}
.li-section{padding:14px 0;border-top:1px solid var(--glass-border)}
.li-section:first-child{border-top:none;padding-top:4px}
.li-section-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--text-muted);margin-bottom:8px}
.li-section-actions{display:flex;gap:0;margin:0 -16px -16px;padding:0;border-radius:0;border-top:1px solid var(--glass-border)}
.li-contact-row{font-size:14px;color:var(--text-secondary);padding:3px 0;display:flex;align-items:center;gap:8px}
.li-contact-row svg{width:14px;height:14px;fill:var(--text-muted);flex-shrink:0}
.li-exchange-link{display:inline-block;margin-top:8px;font-size:13px;color:#10b981;text-decoration:none;font-weight:500}
.li-exchange-link:hover{text-decoration:underline}
.lead-item .li-contact{margin-top:10px;font-size:14px;color:var(--text-secondary)}
.lead-item .li-contact a{color:var(--text-secondary);text-decoration:none}
.lead-item .li-address{font-size:13px;color:var(--text-muted);margin-top:6px}
.lead-item .li-time{font-size:12px;color:var(--text-muted);margin-top:8px;display:flex;align-items:center;gap:8px}
.lead-item .li-source{font-size:11px;color:var(--text-muted);text-transform:uppercase;background:var(--glass-bg);padding:2px 8px;border-radius:4px}
.lead-item .li-photo{width:100%;max-height:180px;object-fit:contain;border-radius:10px;margin-top:12px;border:1px solid var(--glass-border)}
.leads-empty{text-align:center;padding:60px 24px;color:var(--text-muted);font-size:15px}
.li-quick-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.li-quick-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 14px;border:none;border-radius:10px;font-family:inherit;font-size:13px;font-weight:500;cursor:pointer;text-decoration:none;color:#fff;min-height:44px;flex:1;justify-content:center}
.li-quick-btn svg{width:18px;height:18px;fill:currentColor}
.li-quick-btn.call-btn{background:rgba(96,165,250,.2);color:#60a5fa}
.li-quick-btn.wa-btn{background:rgba(74,222,128,.2);color:#4ade80}
.li-quick-btn.email-btn{background:rgba(251,191,36,.2);color:#fbbf24}
.li-quick-btn:active{transform:scale(.95);opacity:.8}

/* ── Status Badge ── */
.status-badge{
    font-size:11px;
    padding:4px 10px;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
    border:none;
    font-family:inherit;
    min-height:36px;
    display:inline-flex;
    align-items:center;
}
.status-badge:active{transform:scale(.9)}
.status-new{background:rgba(59,130,246,.15);color:#60a5fa}
.status-contacted{background:rgba(251,191,36,.15);color:#fbbf24}
.status-qualified{background:rgba(168,85,247,.15);color:#c084fc}
.status-won{background:rgba(34,197,94,.15);color:#4ade80}
.status-lost{background:rgba(239,68,68,.12);color:#f87171}

/* ── Score Badges ── */
.score-badge{font-size:11px;padding:3px 8px;border-radius:6px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.score-hot{background:linear-gradient(135deg,#ef4444,#f97316);color:#fff;animation:pulse-hot 2s infinite}
.score-warm{background:rgba(251,191,36,.2);color:#fbbf24}
.score-cool{background:rgba(96,165,250,.15);color:#60a5fa}
@keyframes pulse-hot{0%,100%{box-shadow:0 0 0 0 rgba(249,115,22,.4)}50%{box-shadow:0 0 0 4px rgba(249,115,22,0)}}
.li-score{font-size:10px;padding:2px 7px;border-radius:6px;font-weight:700;white-space:nowrap}
.score-breakdown{margin-top:10px;padding:10px 12px;border-radius:8px;background:var(--glass-bg);border:1px solid var(--glass-border)}
.score-breakdown-title{font-size:11px;font-weight:700;color:var(--text-muted);margin-bottom:6px;display:flex;align-items:center;justify-content:space-between}
.score-breakdown-title .score-num{font-size:14px;font-weight:700}
.score-breakdown-title .score-num.score-hot{background:none;color:#f97316}
.score-breakdown-title .score-num.score-warm{background:none;color:#fbbf24}
.score-breakdown-title .score-num.score-cool{background:none;color:#60a5fa}
.sb-row{display:flex;align-items:center;gap:8px;padding:3px 0;font-size:12px}
.sb-action{flex:1;color:var(--text-secondary)}
.sb-count{color:var(--text-muted);font-size:11px;min-width:24px;text-align:right}
.sb-pts{font-weight:600;color:var(--text-primary);min-width:30px;text-align:right}
.sb-bar{flex:0 0 40px;height:4px;border-radius:2px;background:var(--glass-border);overflow:hidden}
.sb-bar-fill{height:100%;border-radius:2px}
.score-config-panel{padding:16px}
.score-config-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--glass-border)}
.score-config-row:last-child{border-bottom:none}
.score-config-label{flex:1;font-size:13px;color:var(--text-secondary)}
.score-config-input{width:50px;padding:6px 8px;border-radius:6px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text-primary);font-size:13px;text-align:center;font-family:inherit}
.score-threshold-row{display:flex;align-items:center;gap:10px;padding:8px 0}
.score-threshold-label{font-size:13px;font-weight:600;min-width:50px}
.lead-actions-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.action-chip{font-size:11px;padding:4px 8px;border-radius:6px;background:var(--glass-bg);color:var(--text-muted);border:1px solid var(--glass-border)}
.lead-timeline{margin-top:12px;padding-left:16px;border-left:2px solid var(--glass-border);position:relative}
.tl-entry{position:relative;padding:0 0 12px 14px;font-size:12px;line-height:1.5}
.tl-entry:last-child{padding-bottom:0}
.tl-dot{position:absolute;left:-21px;top:3px;width:8px;height:8px;border-radius:50%;border:2px solid var(--glass-border)}
.tl-dot.visitor{background:#818cf8;border-color:#818cf8}
.tl-dot.admin{background:#4ade80;border-color:#4ade80}
.tl-dot.system{background:#6b7280;border-color:#6b7280}
.tl-desc{color:var(--text-secondary)}
.tl-desc strong{color:var(--text-primary);font-weight:600}
.tl-time{color:var(--text-muted);font-size:11px;margin-top:1px}
.tl-show-all{font-size:12px;color:#818cf8;background:none;border:none;cursor:pointer;padding:4px 0;font-family:inherit;margin-top:4px}

/* ── Kanban Board ── */
.view-toggle{display:inline-flex;border:1px solid var(--glass-border);border-radius:8px;overflow:hidden;margin-left:auto}
.view-toggle-btn{background:transparent;border:none;padding:6px 10px;cursor:pointer;color:var(--text-muted);font-family:inherit;display:flex;align-items:center}
.view-toggle-btn.active{background:var(--glass-border);color:var(--text-primary)}
.view-toggle-btn svg{width:16px;height:16px;fill:currentColor}
.kanban-board{display:flex;gap:12px;overflow-x:auto;padding:4px 0 12px;-webkit-overflow-scrolling:touch;min-height:300px}
.kanban-col{min-width:200px;flex:1;background:var(--glass-bg);border-radius:12px;display:flex;flex-direction:column;max-height:calc(100vh - 280px)}
.kanban-col-header{padding:12px 14px;font-size:13px;font-weight:700;display:flex;align-items:center;gap:8px;border-bottom:2px solid transparent;flex-shrink:0}
.kanban-col-header .kh-count{font-size:11px;font-weight:500;color:var(--text-muted);background:var(--glass-border);padding:2px 8px;border-radius:10px}
.kanban-col[data-status="new"] .kanban-col-header{border-color:#60a5fa;color:#60a5fa}
.kanban-col[data-status="contacted"] .kanban-col-header{border-color:#fbbf24;color:#fbbf24}
.kanban-col[data-status="qualified"] .kanban-col-header{border-color:#c084fc;color:#c084fc}
.kanban-col[data-status="won"] .kanban-col-header{border-color:#4ade80;color:#4ade80}
.kanban-col[data-status="lost"] .kanban-col-header{border-color:#f87171;color:#f87171}
.kanban-col-body{padding:8px;overflow-y:auto;flex:1;display:flex;flex-direction:column;gap:6px}
.kanban-card{background:var(--glass-border);border-radius:10px;padding:12px;cursor:grab;border:1px solid transparent;transition:all .15s}
.kanban-card:hover{border-color:var(--glass-hover)}
.kanban-card:active{cursor:grabbing}
.kanban-card.dragging{opacity:.4}
.kanban-col.drag-over{background:rgba(129,140,248,.08);outline:2px dashed rgba(129,140,248,.3);outline-offset:-2px}
.kc-name{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.kc-company{font-size:12px;color:var(--text-muted);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.kc-meta{display:flex;align-items:center;gap:6px;margin-top:6px;font-size:11px;color:var(--text-muted)}
.kc-score{font-size:10px;padding:2px 6px;border-radius:6px;font-weight:600}
.kc-score.score-hot{background:rgba(249,115,22,.15);color:#fb923c}
.kc-score.score-warm{background:rgba(251,191,36,.15);color:#fbbf24}
.kanban-empty{font-size:12px;color:var(--text-muted);text-align:center;padding:20px 8px;opacity:.6}
@media(max-width:768px){.kanban-col{min-width:180px}}

/* ── Tags ── */
.tag-row{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
.tag-chip{font-size:11px;padding:4px 10px;border-radius:12px;background:rgba(249,115,22,.12);color:#fdba74;cursor:pointer;border:none;font-family:inherit}
.tag-chip:active{transform:scale(.93)}
.add-tag-btn{font-size:12px;padding:10px 14px;border-radius:12px;background:var(--glass-bg);color:var(--text-muted);cursor:pointer;border:1px dashed var(--glass-hover);font-family:inherit;min-height:44px;display:inline-flex;align-items:center}
.add-tag-btn:active{transform:scale(.95)}

/* ── Comments / Notes ── */
.lead-comments{margin-top:10px}
.lead-comments-title{font-size:12px;font-weight:600;color:var(--text-muted);margin-bottom:6px}
.lead-comment{padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.lead-comment:last-of-type{border-bottom:none}
.lead-comment-text{font-size:13px;color:var(--text-primary);white-space:pre-wrap;word-break:break-word;line-height:1.5}
.lead-comment-footer{display:flex;align-items:center;gap:8px;margin-top:4px}
.lead-comment-meta{font-size:11px;color:var(--text-muted);flex:1}
.lead-comment-actions{display:flex;gap:2px;opacity:0;transition:opacity .15s}
.lead-comment:hover .lead-comment-actions{opacity:1}
.lead-comment-actions button{background:none;border:none;color:var(--text-muted);font-size:11px;cursor:pointer;padding:2px 4px;border-radius:4px}
.lead-comment-actions button:hover{color:var(--text-primary);background:var(--bg-hover)}
.lead-comment-edit textarea{
    color:var(--text-primary);font-family:inherit;font-size:13px;resize:vertical;min-height:40px;outline:none;
    width:100%;background:var(--glass-bg);border:1px solid var(--accent);border-radius:8px;padding:8px 10px;box-sizing:border-box;
}
.lead-comment-input{display:flex;gap:6px;margin-top:8px;align-items:flex-start}
.lead-comment-input textarea{
    flex:1;color:var(--text-primary);font-family:inherit;font-size:13px;resize:none;min-height:36px;outline:none;
    background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:8px;padding:8px 10px;box-sizing:border-box;
}
.lead-comment-input textarea::placeholder{color:var(--text-muted)}
.lead-comment-input textarea:focus{border-color:var(--accent);background:var(--glass-border)}
.lead-comment-input button{
    padding:8px 14px;border-radius:8px;border:none;background:var(--accent);color:#fff;
    font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;white-space:nowrap;flex-shrink:0;
}
.lead-comments-toggle{font-size:11px;color:var(--accent-light);cursor:pointer;background:none;border:none;padding:4px 0;font-family:inherit}

/* ── Reminder ── */
.lead-reminder{margin-top:8px;display:flex;align-items:center;gap:8px}
.lead-reminder input[type="date"]{
    background:var(--glass-border);
    border:1px solid var(--glass-hover);
    border-radius:8px;
    color:var(--text-secondary);
    font-family:inherit;
    font-size:12px;
    padding:6px 10px;
    outline:none;
}
.lead-reminder input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(.6)}
.remind-btn{font-size:12px;padding:10px 14px;border-radius:8px;border:none;background:rgba(251,146,60,.12);color:#fb923c;cursor:pointer;font-family:inherit;min-height:44px;display:inline-flex;align-items:center}
.remind-set{font-size:11px;color:#fb923c}
.followup-send{font-size:12px;padding:10px 14px;border-radius:6px;border:none;background:#25D366;color:#fff;cursor:pointer;font-family:inherit;display:inline-flex;align-items:center;gap:4px;min-height:44px}
.followup-send svg{width:12px;height:12px;fill:#fff}
.reminder-overdue{color:#f87171!important}
/* ── Lead Tasks ── */
.lead-tasks{margin-top:10px}
.lead-tasks-title{font-size:11px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}
.lead-task-item{
    display:flex;align-items:center;gap:8px;padding:6px 0;
    border-bottom:1px solid rgba(255,255,255,.04);font-size:13px;
}
.lead-task-item:last-of-type{border-bottom:none}
.lead-task-cb{width:18px;height:18px;accent-color:#6366f1;cursor:pointer;flex-shrink:0}
.lead-task-title{flex:1;min-width:0;color:var(--text-primary)}
.lead-task-done .lead-task-title{text-decoration:line-through;color:var(--text-muted)}
.lead-task-due{font-size:11px;padding:2px 6px;border-radius:4px;white-space:nowrap;background:rgba(99,102,241,.1);color:#818cf8}
.lead-task-due.overdue{background:rgba(248,113,113,.12);color:#f87171}
.lead-task-del{background:none;border:none;color:var(--text-muted);font-size:14px;cursor:pointer;padding:2px 4px;opacity:.5}
.lead-task-del:hover{opacity:1;color:#f87171}
.lead-task-add{display:flex;gap:6px;margin-top:6px;align-items:center}
.lead-task-add input[type="text"]{
    flex:1;min-width:0;background:var(--glass-border);border:1px solid var(--glass-hover);
    border-radius:8px;color:var(--text-primary);font-family:inherit;font-size:12px;padding:8px 10px;outline:none;
}
.lead-task-add input[type="date"]{
    background:var(--glass-border);border:1px solid var(--glass-hover);border-radius:8px;
    color:var(--text-secondary);font-family:inherit;font-size:12px;padding:6px 8px;outline:none;width:130px;
}
.lead-task-add input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(.6)}
.lead-task-add button{
    font-size:12px;padding:8px 12px;border-radius:8px;border:none;
    background:rgba(99,102,241,.15);color:#818cf8;cursor:pointer;font-family:inherit;font-weight:600;white-space:nowrap;
}
/* ── My Tasks (Dashboard) ── */
.my-tasks-item{
    display:flex;align-items:center;gap:10px;padding:10px 0;
    border-bottom:1px solid var(--border);cursor:pointer;
}
.my-tasks-item:last-child{border-bottom:none}
.my-tasks-item:hover{opacity:.85}
.my-tasks-cb{width:18px;height:18px;accent-color:#6366f1;cursor:pointer;flex-shrink:0}
.my-tasks-body{flex:1;min-width:0}
.my-tasks-title{font-size:13px;color:var(--text-primary);font-weight:500}
.my-tasks-lead{font-size:11px;color:var(--text-muted);margin-top:1px}
.my-tasks-due{font-size:11px;padding:2px 6px;border-radius:4px;white-space:nowrap;flex-shrink:0}
.my-tasks-due.upcoming{background:rgba(99,102,241,.1);color:#818cf8}
.my-tasks-due.today{background:rgba(251,191,36,.12);color:#fbbf24}
.my-tasks-due.overdue{background:rgba(248,113,113,.12);color:#f87171}
.due-reminders{
    background:linear-gradient(135deg,rgba(251,146,60,.15),rgba(249,115,22,.1));
    border:1px solid rgba(249,115,22,.2);
    border-radius:12px;
    padding:14px 16px;
    margin:0 20px 12px;
}
.due-reminders-title{font-size:13px;font-weight:600;color:#fb923c;margin-bottom:10px;display:flex;align-items:center;gap:6px}
.due-reminders-title svg{width:16px;height:16px;fill:#fb923c}
.due-item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:8px 0;
    border-bottom:1px solid var(--glass-bg);
}
.due-item:last-child{border-bottom:none}
.due-item-info{flex:1}
.due-item-name{font-size:13px;font-weight:500;color:var(--text-primary)}
.due-item-date{font-size:11px;color:#fb923c}
.template-select{
    font-size:11px;
    padding:4px 8px;
    border-radius:6px;
    background:var(--glass-border);
    border:1px solid var(--glass-hover);
    color:var(--text-secondary);
    font-family:inherit;
    margin-right:6px;
}
.followup-section{margin-top:10px;padding:10px 12px;border-radius:8px;background:var(--glass-bg);border:1px solid var(--glass-border)}
.followup-tpl-row{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.followup-email-btn{font-size:12px;padding:10px 14px;border-radius:6px;border:none;background:var(--accent);color:#fff;cursor:pointer;font-family:inherit;display:inline-flex;align-items:center;gap:4px;min-height:44px}
.followup-email-btn svg{width:12px;height:12px;fill:#fff}
.followup-preview{margin-top:8px;font-size:12px;color:var(--text-muted);line-height:1.5;white-space:pre-wrap;max-height:80px;overflow-y:auto;padding:8px;border-radius:6px;background:var(--glass-border)}
.followup-last{margin-top:6px;font-size:11px;color:var(--text-muted);font-style:italic}

/* ── Bulk Select ── */
.bulk-cb{width:20px;height:20px;border-radius:6px;border:2px solid var(--glass-hover);background:transparent;cursor:pointer;flex-shrink:0;display:none;appearance:none;-webkit-appearance:none;position:relative;transition:all .15s}
.bulk-mode .bulk-cb{display:block}
.bulk-cb:checked{background:var(--accent);border-color:var(--accent)}
.bulk-cb:checked::after{content:'';position:absolute;left:5px;top:2px;width:5px;height:9px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg)}
.lead-item.selected{border-color:var(--accent);background:rgba(11,126,116,.08)}
.bulk-bar{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:var(--bg-elevated);border:1px solid var(--border);border-radius:14px;padding:10px 16px;display:flex;align-items:center;gap:10px;z-index:100;box-shadow:0 8px 32px rgba(0,0,0,.4);max-width:90vw}
.bulk-bar-count{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap}
.bulk-bar-btn{font-size:12px;padding:8px 14px;border-radius:8px;border:none;cursor:pointer;font-family:inherit;font-weight:500;display:inline-flex;align-items:center;gap:4px;white-space:nowrap}
.bulk-bar-btn svg{width:14px;height:14px}
.bulk-bar-btn.bulk-status{background:rgba(99,102,241,.15);color:#818cf8}
.bulk-bar-btn.bulk-tag{background:rgba(74,222,128,.15);color:#4ade80}
.bulk-bar-btn.bulk-del{background:rgba(248,113,113,.15);color:#f87171}
.bulk-bar-btn.bulk-all{background:var(--glass-bg);color:var(--text-secondary)}
.bulk-bar-btn.bulk-cancel{background:var(--glass-bg);color:var(--text-muted)}
.bulk-status-drop{position:absolute;bottom:100%;left:0;margin-bottom:6px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;min-width:140px;box-shadow:0 8px 24px rgba(0,0,0,.3);overflow:hidden;display:none}
.bulk-status-drop button{display:block;width:100%;text-align:left;padding:10px 14px;border:none;background:transparent;color:var(--text-primary);font-size:13px;cursor:pointer;font-family:inherit}
.bulk-status-drop button:hover{background:var(--glass-bg)}

/* ── Dedup Modal ── */
.dedup-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:200;display:none;align-items:center;justify-content:center;padding:16px}
.dedup-modal.show{display:flex}
.dedup-sheet{background:var(--bg-elevated);border-radius:16px;max-width:540px;width:100%;max-height:80vh;overflow-y:auto;padding:20px}
.dedup-title{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:4px;display:flex;align-items:center;justify-content:space-between}
.dedup-subtitle{font-size:12px;color:var(--text-muted);margin-bottom:16px}
.dedup-pair{background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:12px;padding:12px;margin-bottom:10px}
.dedup-pair-header{font-size:11px;color:var(--text-muted);font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}
.dedup-pair-leads{display:flex;gap:10px;margin-bottom:10px}
.dedup-lead-card{flex:1;padding:8px 10px;border-radius:8px;background:var(--glass-border);min-width:0}
.dedup-lead-name{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dedup-lead-info{font-size:11px;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}
.dedup-match-reason{font-size:11px;color:var(--accent);font-weight:500;margin-bottom:8px}
.dedup-pair-actions{display:flex;gap:6px;justify-content:flex-end}
.dedup-merge-btn{font-size:12px;padding:6px 14px;border-radius:6px;border:none;background:var(--accent);color:#fff;cursor:pointer;font-family:inherit;font-weight:500}
.dedup-skip-btn{font-size:12px;padding:6px 14px;border-radius:6px;border:none;background:var(--glass-border);color:var(--text-muted);cursor:pointer;font-family:inherit}
.dedup-empty{text-align:center;padding:30px 0;color:var(--text-muted);font-size:13px}
.merge-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:210;display:none;align-items:center;justify-content:center;padding:16px}
.merge-modal.show{display:flex}
.merge-sheet{background:var(--bg-elevated);border-radius:16px;max-width:480px;width:100%;max-height:85vh;overflow-y:auto;padding:20px}
.merge-title{font-size:15px;font-weight:700;color:var(--text-primary);margin-bottom:14px}
.merge-field{margin-bottom:10px}
.merge-field-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted);margin-bottom:4px}
.merge-options{display:flex;gap:6px}
.merge-opt{flex:1;padding:8px 10px;border-radius:8px;border:2px solid var(--glass-border);background:var(--glass-bg);cursor:pointer;font-size:12px;color:var(--text-secondary);font-family:inherit;text-align:left;word-break:break-word;min-height:36px;transition:all .15s}
.merge-opt:hover{border-color:var(--glass-hover)}
.merge-opt.picked{border-color:var(--accent);background:rgba(11,126,116,.08);color:var(--text-primary)}
.merge-opt.empty-val{opacity:.4;font-style:italic}
.merge-footer{display:flex;gap:8px;justify-content:flex-end;margin-top:16px;padding-top:12px;border-top:1px solid var(--glass-border)}
.merge-cancel-btn{font-size:13px;padding:10px 18px;border-radius:8px;border:none;background:var(--glass-bg);color:var(--text-muted);cursor:pointer;font-family:inherit}
.merge-confirm-btn{font-size:13px;padding:10px 18px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer;font-family:inherit;font-weight:600}

/* ── Lead Actions ── */
.lead-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.save-lead-btn,.del-lead-btn,.edit-lead-btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    padding:12px 16px;
    border:none;
    font-family:inherit;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    flex:1;
    min-height:44px;
    background:transparent;
}
.save-lead-btn{color:#4ade80}
.save-lead-btn:active,.del-lead-btn:active,.edit-lead-btn:active{opacity:.7}
.save-lead-btn svg{width:16px;height:16px;fill:#4ade80}
.del-lead-btn{color:#f87171}
.del-lead-btn svg{width:14px;height:14px;fill:#f87171}
.edit-lead-btn{color:#fdba74}
.edit-lead-btn svg{width:14px;height:14px;fill:#fdba74}
.edit-lead-btn+.save-lead-btn,.save-lead-btn+.del-lead-btn,.edit-lead-btn+.del-lead-btn{border-left:1px solid var(--glass-border)}

/* ── Quick Send Modal ── */
.qs-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:flex-end;justify-content:center;z-index:100}
.qs-modal.show{display:flex}
.qs-sheet{
    background:var(--bg-elevated);
    border-radius:20px 20px 0 0;
    width:100%;
    max-width:480px;
    padding:28px 20px calc(28px + env(safe-area-inset-bottom));
}
.qs-sheet h3{font-size:18px;font-weight:600;margin-bottom:6px}
.qs-sheet .qs-sub{font-size:13px;color:var(--text-muted);margin-bottom:20px}
.qs-opt{color:var(--text-primary);
    font-family:inherit;
    font-size:15px;
    font-weight:500;
    cursor:pointer;
    margin-bottom:10px;
    text-align:left;
}
.qs-opt:active{transform:scale(.98)}
.qs-opt.selected{border-color:rgba(249,115,22,.5);background:rgba(249,115,22,.12)}
.qs-opt small{display:block;font-size:12px;font-weight:400;color:var(--text-muted);margin-top:3px}
.qs-off{
    text-align:center;
    padding:14px;
    border:none;
    background:none;
    color:var(--text-muted);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
    width:100%;
    margin-top:8px;
}
.qs-off:active{color:var(--text-secondary)}

/* ── Tag Modal ── */
.tag-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:flex-end;justify-content:center;z-index:100}
.tag-modal.show{display:flex}
.tag-sheet{
    background:var(--bg-elevated);
    border-radius:20px 20px 0 0;
    width:100%;
    max-width:480px;
    padding:28px 20px calc(28px + env(safe-area-inset-bottom));
}
.tag-sheet h3{font-size:18px;font-weight:600;margin-bottom:16px}
.tag-options{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}
.tag-option{
    padding:10px 18px;
    border-radius:20px;
    border:1px solid var(--glass-hover);
    background:var(--glass-bg);
    color:var(--text-secondary);
    font-family:inherit;
    font-size:14px;
    cursor:pointer;
}
.tag-option:active{transform:scale(.95)}
.tag-option.selected{border-color:rgba(249,115,22,.5);background:rgba(249,115,22,.15);color:#fdba74}
.tag-custom{display:flex;gap:10px;margin-bottom:20px}
.tag-custom input{color:var(--text-primary);
    font-family:inherit;
    font-size:14px;
    outline:none;
}
.tag-custom input::placeholder{color:var(--text-muted)}
.tag-custom input:focus{border-color:var(--glass-hover)}
.tag-custom button{
    padding:12px 20px;
    border:none;
    border-radius:12px;
    background:rgba(249,115,22,.2);
    color:#fb923c;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.tag-custom button:active{transform:scale(.95)}
.tag-done{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:rgba(34,197,94,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.tag-done:active{transform:scale(.97)}

/* ── Analytics Dashboard ── */
#analytics{
    display:block;
}
.analytics-header{
    position:sticky;
    top:0;
    background:var(--bg-sticky);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    padding:16px 20px;
    padding-top:calc(16px + env(safe-area-inset-top));
    display:flex;
    align-items:center;
    gap:12px;
    border-bottom:1px solid var(--glass-border);
    z-index:10;
}
.analytics-header h2{font-size:18px;font-weight:600}
.analytics-content{padding:20px}
.analytics-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:24px}
.analytics-card{background:var(--glass-bg);border-radius:14px;padding:20px;text-align:center}
.analytics-card .ac-num{font-size:32px;font-weight:700;color:var(--text-primary)}
.analytics-card .ac-label{font-size:12px;color:var(--text-muted);margin-top:4px}
.analytics-section{margin-bottom:28px}
.analytics-section h3{font-size:15px;font-weight:600;color:var(--text-secondary);margin-bottom:14px}
.analytics-bar{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.analytics-bar .ab-label{font-size:13px;color:var(--glass-text);width:90px;flex-shrink:0}
.analytics-bar .ab-track{flex:1;height:8px;background:var(--glass-border);border-radius:4px;overflow:hidden}
.analytics-bar .ab-fill{height:100%;border-radius:4px}
.analytics-bar .ab-count{font-size:13px;color:var(--glass-text);width:40px;text-align:right;flex-shrink:0}
.chart-container{background:var(--glass-bg);border-radius:14px;padding:20px;margin-bottom:24px}
.chart-container canvas{width:100%;height:180px}
.card-perf-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--glass-bg)}
.card-perf-item:last-child{border-bottom:none}
.card-perf-name{font-size:14px;font-weight:500}
.card-perf-stats{font-size:13px;color:var(--text-muted)}

/* ── Storage Dashboard ── */
#storage{
    display:none;
}
.storage-card{background:var(--glass-bg);border-radius:14px;padding:20px;margin-bottom:16px}
.storage-card h4{font-size:14px;font-weight:600;color:var(--text-secondary);margin-bottom:12px}
.storage-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--glass-bg)}
.storage-row:last-child{border-bottom:none}
.storage-label{font-size:13px;color:var(--glass-text)}
.storage-value{font-size:14px;font-weight:600;color:var(--text-secondary)}
.storage-bar{margin-top:12px}
.storage-bar-track{height:8px;background:var(--glass-border);border-radius:4px;overflow:hidden}
.storage-bar-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,#2dd4bf,#14b8a6)}
.storage-bar-label{display:flex;justify-content:space-between;font-size:11px;color:var(--text-muted);margin-top:6px}
.cost-free{color:#4ade80}
.cost-paid{color:#fbbf24}
.storage-note{font-size:12px;color:var(--text-muted);margin-top:16px;line-height:1.6}

/* ── Review Queue ── */
#reviewQueue{
    display:none;
}
.review-item{padding:20px;border-bottom:1px solid var(--glass-border)}
.review-img{width:100%;max-height:250px;object-fit:contain;border-radius:12px;background:rgba(0,0,0,.3);margin-bottom:16px}
.review-ocr-btn{
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    background:rgba(249,115,22,.15);
    color:#fb923c;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    margin-bottom:16px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
}
.review-ocr-btn:active{transform:scale(.97)}
.review-ocr-btn.scanning{opacity:.7}
.review-ocr-btn svg{width:18px;height:18px;fill:currentColor}
.review-field{margin-bottom:10px}
.review-field label{display:block;font-size:11px;color:var(--text-muted);margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}
.review-field input{color:var(--text-primary);
    font-family:inherit;
    font-size:14px;
    outline:none;
}
.review-field input:focus{border-color:var(--text-muted);background:var(--glass-border)}
.review-field input::placeholder{color:var(--text-muted)}
.review-field textarea{color:var(--text-primary);
    font-family:inherit;
    font-size:14px;
    outline:none;
    resize:vertical;
    min-height:60px;
}
.review-field textarea:focus{border-color:var(--text-muted);background:var(--glass-border)}
.review-field textarea::placeholder{color:var(--text-muted)}
.review-actions{display:flex;gap:10px;margin-top:16px}
.review-save{
    flex:1;
    padding:14px;
    border:none;
    border-radius:10px;
    background:rgba(34,197,94,.15);
    color:#4ade80;
    font-family:inherit;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.review-save:active{transform:scale(.97)}
.review-skip{
    padding:14px 20px;
    border:none;
    border-radius:10px;
    background:var(--glass-border);
    color:var(--glass-text);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
}
.review-skip:active{transform:scale(.97)}
.review-time{font-size:11px;color:var(--text-muted);margin-bottom:12px}

/* ── Scan Modal ── */
.scan-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:300;display:none;flex-direction:column}
.scan-modal.show{display:flex}
.scan-header{padding:16px 20px;padding-top:calc(16px + env(safe-area-inset-top));display:flex;align-items:center;gap:12px;border-bottom:1px solid var(--glass-hover)}
.scan-header h3{flex:1;font-size:17px;font-weight:600}
.scan-close{background:none;border:none;color:var(--text-secondary);font-size:14px;cursor:pointer;padding:8px 12px}
.scan-options{display:flex;gap:12px;padding:20px;justify-content:center}
.scan-option{color:var(--text-primary);
    font-family:inherit;
    text-align:center;
    cursor:pointer;
}
.scan-option:active{transform:scale(.97);border-color:var(--glass-hover)}
.scan-option.active{border-color:#4ade80;background:rgba(74,222,128,.1)}
.scan-option svg{width:40px;height:40px;fill:var(--glass-text);margin-bottom:12px}
.scan-option.active svg{fill:#4ade80}
.scan-option-title{font-size:15px;font-weight:600;margin-bottom:4px}
.scan-option-desc{font-size:12px;color:var(--text-muted)}
.scan-camera{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;position:relative}
.scan-camera video{width:100%;max-width:400px;border-radius:16px;background:#000}
.scan-camera canvas{display:none}
.scan-viewfinder{
    position:absolute;
    width:250px;height:250px;
    border:2px solid rgba(74,222,128,.5);
    border-radius:16px;
    pointer-events:none;
}
.scan-viewfinder::before,.scan-viewfinder::after{
    content:'';position:absolute;
    width:30px;height:30px;
    border:3px solid #4ade80;
}
.scan-viewfinder::before{top:-2px;left:-2px;border-right:none;border-bottom:none;border-radius:16px 0 0 0}
.scan-viewfinder::after{bottom:-2px;right:-2px;border-left:none;border-top:none;border-radius:0 0 16px 0}
.scan-status{margin-top:16px;font-size:14px;color:var(--glass-text);text-align:center}
.scan-capture-btn{
    margin-top:20px;
    padding:16px 40px;
    border-radius:14px;
    border:none;
    background:#4ade80;
    color:#000;
    font-family:inherit;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
}
.scan-capture-btn:active{transform:scale(.97)}
.scan-capture-btn:disabled{opacity:.5}
.scan-result{padding:20px;overflow-y:auto}
.scan-result-card{background:var(--glass-bg);border-radius:14px;padding:20px}
.scan-result-title{font-size:13px;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.scan-result-field{margin-bottom:12px}
.scan-result-field label{display:block;font-size:11px;color:var(--text-muted);margin-bottom:4px}
.scan-result-field input{color:var(--text-primary);font-family:inherit;font-size:14px;
}
.scan-result-field input:focus{outline:none;border-color:rgba(74,222,128,.5)}
.scan-result-actions{display:flex;gap:10px;margin-top:16px}
.scan-save-btn{
    flex:1;padding:14px;border:none;border-radius:12px;
    background:#4ade80;color:#000;
    font-family:inherit;font-size:15px;font-weight:600;cursor:pointer;
}
.scan-save-btn:active{transform:scale(.97)}
.scan-retry-btn{
    padding:14px 20px;border:none;border-radius:12px;
    background:var(--glass-hover);color:#fff;
    font-family:inherit;font-size:15px;cursor:pointer;
}

/* ═══ Scan & Add Cards Modal ═══ */
.scan-cards-modal{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,.92);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s}
.scan-cards-modal.show{opacity:1;pointer-events:auto}
.scan-cards-inner{width:100%;max-width:min(480px, calc(100vw - 32px));max-height:90dvh;display:flex;flex-direction:column;padding:20px}
.scan-cards-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.scan-cards-header h2{color:#fff;font-size:20px;margin:0;font-weight:700}
.scan-cards-close{background:none;border:none;color:var(--glass-text);font-size:28px;cursor:pointer;padding:4px 8px;line-height:1}
.scan-cards-close:hover{color:#fff}
.scan-cards-sources{display:flex;gap:12px}
.scan-cards-sources button{flex:1;padding:24px 12px;border:1.5px solid var(--glass-hover);border-radius:16px;background:var(--glass-bg);color:#fff;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:10px;font-family:inherit;transition:border-color .2s,background .2s}
.scan-cards-sources button:hover{border-color:var(--accent-glow);background:var(--accent-subtle)}
.scan-cards-sources button svg{opacity:.7}
.scan-cards-sources .sc-label{font-size:14px;font-weight:600}
.scan-cards-sources .sc-desc{font-size:11px;color:var(--text-muted)}

/* ── Camera ── */
.scan-cards-camera{display:flex;flex-direction:column;align-items:center;gap:16px;position:relative}
.scan-cards-camera video{width:100%;max-height:50dvh;border-radius:12px;background:#000;object-fit:cover}
.scan-cards-camera canvas{display:none}
.scan-cards-cam-btn{padding:14px 32px;border:none;border-radius:12px;background:var(--accent);color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer}
.scan-cards-cam-btn:disabled{opacity:.4}
.scan-cards-flash{position:absolute;inset:0;background:#fff;border-radius:12px;opacity:0;pointer-events:none;transition:opacity .08s ease-out;z-index:5}
.scan-cards-flash.active{opacity:.7;transition:none}
.scan-cards-badge{position:absolute;top:12px;right:12px;background:var(--accent);color:#fff;font-size:12px;font-weight:700;padding:5px 12px;border-radius:20px;backdrop-filter:blur(8px);z-index:6;display:none}
.scan-cards-cam-actions{display:flex;align-items:center;justify-content:center;gap:20px;width:100%}
.scan-cards-shutter{width:64px;height:64px;border-radius:50%;border:4px solid var(--text-muted);background:#fff;cursor:pointer;transition:transform .1s;flex-shrink:0}
.scan-cards-shutter:active{transform:scale(.9)}
.scan-cards-shutter:disabled{opacity:.4}
.scan-cards-done-btn{padding:12px 24px;border:none;border-radius:24px;background:#4ade80;color:#000;font-family:inherit;font-size:14px;font-weight:700;cursor:pointer;transition:transform .1s}
.scan-cards-done-btn:active{transform:scale(.95)}

/* ── Live results feed ── */
.scan-results{display:flex;flex-direction:column;gap:12px}
.scan-results-bar{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
.scan-results-info{display:flex;align-items:center;gap:10px}
.scan-results-info>span:first-child{color:#fff;font-size:14px;font-weight:600}
.scan-results-spinner{display:inline-flex;align-items:center;gap:6px;color:var(--accent-light);font-size:12px;font-weight:500}
.sr-spin{display:inline-block;width:14px;height:14px;border:2px solid rgba(255,255,255,.15);border-top-color:var(--accent-light);border-radius:50%;animation:sr-rotate .7s linear infinite}
@keyframes sr-rotate{to{transform:rotate(360deg)}}
.scan-results-btns{display:flex;gap:8px}
.sr-btn-more{padding:8px 14px;border:1.5px solid var(--glass-hover);border-radius:10px;background:transparent;color:#fff;font-family:inherit;font-size:13px;font-weight:600;cursor:pointer;transition:border-color .2s}
.sr-btn-more:hover{border-color:var(--accent-glow)}
.sr-btn-save{padding:8px 18px;border:none;border-radius:10px;background:var(--accent);color:#fff;font-family:inherit;font-size:13px;font-weight:600;cursor:pointer;transition:opacity .2s}
.sr-btn-save:disabled{opacity:.35;cursor:not-allowed}
.scan-results-progress{margin-bottom:4px}
.sr-prog-bar{height:4px;background:var(--glass-hover);border-radius:2px;overflow:hidden}
.sr-prog-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-light));border-radius:2px;transition:width .3s}
.scan-results-feed{flex:1;overflow-y:auto;max-height:55dvh;display:flex;flex-direction:column;gap:10px}

/* ── Result card ── */
.sr-card{display:flex;gap:12px;background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:12px;padding:12px;position:relative;animation:sr-fadein .3s ease}
@keyframes sr-fadein{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.sr-card.processing{border-color:rgba(var(--accent-rgb,11,126,116),.3)}
.sr-card-thumb{width:56px;height:56px;border-radius:8px;object-fit:cover;flex-shrink:0;background:var(--glass-hover)}
.sr-card-thumb-wrap{position:relative;flex-shrink:0;width:56px;height:56px}
.sr-card-thumb-wrap .sr-card-thumb{width:100%;height:100%}
.sr-card-thumb-spinner{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5);border-radius:8px}
.sr-card-thumb-spinner::after{content:'';width:20px;height:20px;border:2px solid rgba(255,255,255,.2);border-top-color:#fff;border-radius:50%;animation:sr-rotate .7s linear infinite}
.sr-card-body{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}
.sr-card-name{color:#fff;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sr-card-detail{color:var(--text-secondary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sr-card-scanning{color:var(--text-muted);font-size:12px;font-style:italic}
.sr-card-multi{position:absolute;top:8px;right:8px;background:rgba(99,102,241,.2);color:#818cf8;font-size:10px;font-weight:700;padding:2px 8px;border-radius:6px}
.sr-card-status{position:absolute;bottom:8px;right:8px;font-size:10px;font-weight:600;padding:2px 8px;border-radius:6px}
.sr-card-status.saved{background:rgba(74,222,128,.15);color:#4ade80}
.sr-card-status.saving{background:rgba(251,191,36,.15);color:#fbbf24}
.sr-card-status.error{background:rgba(248,113,113,.15);color:#f87171}
.sr-card-remove{position:absolute;top:8px;right:8px;background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:16px;line-height:1;padding:2px 4px;opacity:.5;transition:opacity .2s}
.sr-card-remove:hover{opacity:1;color:#f87171}
.sr-card.has-multi .sr-card-remove{right:auto;left:8px}
.sr-card-expand{width:100%}
.sr-card-fields{display:flex;flex-direction:column;gap:6px;margin-top:8px;border-top:1px solid var(--glass-border);padding-top:8px}
.sr-card-fields input{width:100%;padding:6px 10px;background:rgba(255,255,255,.05);border:1px solid var(--glass-border);border-radius:8px;color:#fff;font-family:inherit;font-size:12px}
.sr-card-fields input:focus{outline:none;border-color:var(--accent-glow)}
.sr-card-fields input::placeholder{color:var(--text-muted)}
.sr-card-row{display:flex;gap:6px}
.sr-card-row input{flex:1;min-width:0}
.sr-card-extra{border-top:1px solid var(--glass-border);padding-top:8px;margin-top:8px}
.sr-card.sr-expanded{flex-wrap:wrap}
.sr-card.sr-expanded .sr-card-thumb-wrap{width:100%;height:auto;margin-bottom:8px}
.sr-card.sr-expanded .sr-card-thumb{width:100%;height:auto;max-height:200px;object-fit:contain;border-radius:8px}

/* ═══ SaaS LAYOUT ═══ */

/* ── App Shell ── */
.app-shell{display:flex;height:100vh;height:100svh;overflow:hidden}
@media(display-mode:standalone){.app-shell{height:100vh;height:-webkit-fill-available}}

/* ── Sidebar ── */
.sidebar{
    width:240px;
    flex-shrink:0;
    background:var(--bg-card);
    border-right:1px solid var(--border);
    display:flex;
    flex-direction:column;
    padding:0;
    overflow-y:auto;
}
.sidebar-brand{
    padding:20px 20px 16px;
    display:flex;
    align-items:center;
    gap:10px;
    border-bottom:1px solid var(--border);
}
.sidebar-brand-icon{
    width:36px;height:36px;
    border-radius:10px;
    background:linear-gradient(135deg,var(--accent),var(--accent-secondary));
    display:flex;align-items:center;justify-content:center;
    flex-shrink:0;
}
.sidebar-brand-icon svg{width:20px;height:20px;fill:#fff}
.sidebar-brand-name{font-size:17px;font-weight:700;color:var(--text-primary)}

.sidebar-nav{flex:1;padding:12px 10px}
.nav-item{
    display:flex;
    align-items:center;
    gap:12px;
    padding:10px 14px;
    border-radius:10px;
    border:none;
    background:none;
    color:var(--text-secondary);
    font-family:inherit;
    font-size:14px;
    font-weight:500;
    cursor:pointer;
    width:100%;
    text-align:left;
    margin-bottom:2px;
    transition:background .15s,color .15s;
}
.nav-item:hover{background:var(--bg-hover);color:var(--text-primary)}
.nav-item.active{background:var(--accent-subtle);color:var(--accent-light)}
.nav-item svg{width:20px;height:20px;fill:currentColor;flex-shrink:0;opacity:.7}
.nav-item.active svg{opacity:1}
.nav-item-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.sidebar-user{
    padding:16px;
    border-top:1px solid var(--border);
    display:flex;
    align-items:center;
    gap:10px;
}
.sidebar-user-info{flex:1;min-width:0}
.sidebar-user-name{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sidebar-plan-badge{
    display:inline-block;
    font-size:10px;
    padding:2px 8px;
    border-radius:6px;
    background:var(--accent-subtle);
    color:var(--accent-light);
    text-transform:capitalize;
    font-weight:600;
    margin-top:2px;
}
.sidebar-signout{
    width:32px;height:32px;
    border-radius:8px;
    border:none;
    background:rgba(239,68,68,.1);
    cursor:pointer;
    display:flex;align-items:center;justify-content:center;
    flex-shrink:0;
}
.sidebar-signout svg{width:16px;height:16px;fill:#f87171}
.sidebar-signout:hover{background:rgba(239,68,68,.2)}

/* ── Main Content ── */
.main-content{
    flex:1;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    background:var(--bg-base);
    position:relative;
}

/* ── Pages ── */
.page{display:none;padding:24px;padding-top:calc(24px + env(safe-area-inset-top));min-height:100%}
.page.active{display:block}
.page-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:24px;
}
.page-header h1{font-size:24px;font-weight:700}

/* ── Bottom Tab Bar (mobile) ── */
.bottom-tabs{
    display:none;
    position:fixed;
    bottom:0;left:0;right:0;
    background:var(--bg-card);
    border-top:1px solid var(--border);
    padding:2px 0 env(safe-area-inset-bottom, 0px);
    z-index:100;
}
@media(display-mode:standalone){
    .bottom-tabs{padding-bottom:0}
}
@media(max-width:767px) and (display-mode:standalone){
    .page{padding-bottom:56px}
}
.tab-item{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:2px;
    padding:6px 0;
    border:none;
    background:none;
    color:var(--text-muted);
    font-family:inherit;
    font-size:10px;
    font-weight:500;
    cursor:pointer;
}
.tab-item svg{width:22px;height:22px;fill:currentColor}
.tab-item.active{color:var(--accent-light)}

/* ── Dashboard Stats ── */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:28px}
.stat-card{
    background:var(--bg-card);
    border-radius:14px;
    padding:18px;
    border:1px solid var(--border);
}
.stat-card-icon{
    width:36px;height:36px;
    border-radius:10px;
    display:flex;align-items:center;justify-content:center;
    margin-bottom:10px;
}
.stat-card-icon svg{width:20px;height:20px;fill:currentColor}
.stat-card-value{font-size:26px;font-weight:700;color:var(--text-primary)}
.stat-card-label{font-size:12px;color:var(--text-muted);margin-top:2px}

/* ── Dashboard Sections ── */
.dash-section{margin-bottom:28px}
.dash-section-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:14px;
}
.dash-section-title{font-size:16px;font-weight:600;color:var(--text-primary)}
.dash-section-link{font-size:13px;color:var(--accent-light);cursor:pointer;background:none;border:none;font-family:inherit}
.dash-section-link:hover{text-decoration:underline}

/* ── Dashboard Card Tiles (removed — now using QR pill switcher) ── */

/* ── Activity Feed ── */
.activity-list{display:flex;flex-direction:column;gap:0}
.activity-item{
    display:flex;
    align-items:flex-start;
    gap:12px;
    padding:12px 0;
    border-bottom:1px solid var(--border);
}
.activity-item:last-child{border-bottom:none}
.activity-dot{
    width:8px;height:8px;
    border-radius:50%;
    background:var(--accent);
    margin-top:6px;
    flex-shrink:0;
}
.activity-text{flex:1;min-width:0}
.activity-name{font-size:14px;font-weight:500;color:var(--text-primary)}
.activity-detail{font-size:12px;color:var(--text-muted);margin-top:1px}
.activity-time{font-size:11px;color:var(--text-muted);flex-shrink:0;margin-top:4px}

/* ── Tap Log ── */
.tap-log-live{font-size:10px;font-weight:700;color:var(--accent);letter-spacing:.5px}
.tap-log-live.live{animation:tapLivePulse 2s ease-in-out infinite}
@keyframes tapLivePulse{0%,100%{opacity:1}50%{opacity:.4}}
.tap-log-entry{display:flex;align-items:flex-start;gap:10px;padding:12px 0;border-bottom:1px solid var(--border)}
.tap-log-entry:last-child{border-bottom:none}
.tap-log-icon{width:32px;height:32px;border-radius:50%;background:var(--bg-elevated);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:var(--accent);margin-top:2px}
.tap-log-main{flex:1;min-width:0}
.tap-log-row{display:flex;align-items:center;justify-content:space-between;gap:8px}
.tap-log-status{font-size:13px;font-weight:600;color:var(--text-primary)}
.tap-log-status.pending{color:var(--text-muted)}
.tap-log-status.pending-active{font-size:12px;font-weight:600;color:var(--text-secondary)}
.tap-log-status.selected{color:var(--accent)}
.tap-log-visitor{font-size:11px;color:var(--text-muted);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tap-log-time{font-size:11px;color:var(--text-muted);flex-shrink:0}
.tap-log-picks{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.tap-log-pick-btn{border:none;border-radius:8px;padding:6px 12px;font-size:12px;font-weight:600;color:#fff;cursor:pointer;font-family:inherit;transition:opacity .15s,transform .1s;-webkit-tap-highlight-color:transparent;touch-action:manipulation}
.tap-log-pick-btn:active{opacity:.75;transform:scale(.96)}
.tap-log-entry.tap-new{animation:tapHighlight .8s ease}
@keyframes tapHighlight{0%{background:color-mix(in srgb,var(--accent) 12%,transparent)}100%{background:transparent}}

/* ── Settings Page ── */
.settings-section{margin-bottom:28px}
.settings-section-title{
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:1px;
    color:var(--text-muted);
    font-weight:600;
    margin-bottom:10px;
    padding-left:4px;
}
.settings-group{
    background:var(--bg-card);
    border-radius:14px;
    border:1px solid var(--border);
    overflow:hidden;
}
.settings-group .settings-item{
    margin-bottom:0;
    border-radius:0;
    background:transparent;
    border-bottom:1px solid var(--border);
}
.settings-group .settings-item:last-child{border-bottom:none}

/* ── Responsive ── */
@media(max-width:767px){
    .sidebar{display:none}
    .bottom-tabs{display:flex}
    .page{padding:14px;padding-top:calc(14px + env(safe-area-inset-top));padding-bottom:calc(56px + env(safe-area-inset-bottom))}
    .stats-row{grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:14px}
    .stat-card{padding:10px 12px}
    .stat-card-icon{display:none}
    .stat-card-value{font-size:20px}
    .stat-card-label{font-size:11px}
    .page-header{margin-bottom:14px}
    .page-header h1{font-size:18px}
    .dash-section{margin-bottom:18px}
    #dashQuickShare > div:last-child{padding:14px}
    #dashQuickShare .qr-card{max-width:none;padding:12px}
    .qr-canvas-wrap{padding:8px;border-radius:10px}
    .qr-btn-row{margin-top:8px;gap:4px}
    .qr-copy-btn{padding:10px 6px;margin-top:0;font-size:12px;border-radius:8px;gap:4px;min-height:44px}
    .qr-copy-btn svg{width:14px;height:14px}
}
@media(min-width:768px) and (max-width:1024px){
    .sidebar{width:68px}
    .sidebar-brand-name{display:none}
    .sidebar-brand{justify-content:center;padding:16px 8px}
    .nav-item{justify-content:center;padding:12px}
    .nav-item-label{display:none}
    .sidebar-user{flex-direction:column;padding:12px 8px;gap:6px}
    .sidebar-user-info{display:none}
    .sidebar-signout{width:36px;height:36px}
}
@media(max-width:480px){
    .stats-row{grid-template-columns:repeat(3,1fr);gap:4px;margin-bottom:10px}
    .stat-card{padding:8px 10px}
    .stat-card-value{font-size:18px}
    .page-header{margin-bottom:10px}
    .page-header h1{font-size:18px}
    .card-tab{font-size:12px}
    #dashQuickShare .qr-card{max-width:none;padding:10px}
    /* Leads mobile */
    .leads-toolbar{gap:6px;padding:10px 14px}
    .leads-search{padding:8px 12px;font-size:13px}
    .li-collapsed{padding:12px 14px;gap:10px}
    .li-collapsed-left .li-name{font-size:14px}
    .li-quick-btn{padding:10px 12px;font-size:12px}
    .li-section-actions{flex-wrap:nowrap}
    .save-lead-btn,.del-lead-btn,.edit-lead-btn{padding:10px 8px;font-size:12px}
}
@media(max-width:360px){
    .stats-row{grid-template-columns:repeat(3,1fr)}
    .stat-card-value{font-size:18px}
    .tab-item{font-size:11px}
    .tab-item svg{width:20px;height:20px}
    .ob-templates{grid-template-columns:repeat(2,1fr)}
}

/* Loading Screen */
#loadingScreen{position:fixed;inset:0;z-index:99999;background:var(--bg-base);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;transition:opacity 0.3s ease}
#loadingScreen.fade-out{opacity:0;pointer-events:none}
.loading-logo{font-size:28px;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.loading-spinner{width:32px;height:32px;border:3px solid var(--bg-elevated);border-top-color:var(--accent);border-radius:50%;animation:lspin 0.8s linear infinite}
@keyframes lspin{to{transform:rotate(360deg)}}

/* App Container Fade-in */
#appContainer{opacity:0;transition:opacity 0.3s ease}
#appContainer.visible{opacity:1}

/* Skeleton Loaders */
.skeleton{background:var(--bg-elevated);border-radius:6px;position:relative;overflow:hidden}
.skeleton::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,var(--glass-bg),transparent);animation:shimmer 1.5s infinite}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.skeleton-tile{background:var(--bg-card);border-radius:12px;padding:16px;border-left:3px solid var(--bg-elevated)}

/* ── Guided Tour ── */
.tour-overlay{position:fixed;inset:0;z-index:400;transition:opacity .3s}
.tour-spotlight{position:absolute;border-radius:12px;box-shadow:0 0 0 9999px rgba(0,0,0,.6);transition:all .4s cubic-bezier(.16,1,.3,1);pointer-events:none}
.tour-tooltip{position:absolute;background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:16px;max-width:280px;width:calc(100vw - 40px);box-shadow:0 8px 32px rgba(0,0,0,.3);animation:obFade .3s ease}
.tour-tooltip-text{font-size:14px;color:var(--text-primary);line-height:1.5;margin-bottom:14px}
.tour-tooltip-actions{display:flex;align-items:center;justify-content:space-between}
.tour-skip{background:none;border:none;color:var(--text-muted);font-size:13px;cursor:pointer;font-family:inherit;padding:6px 0}
.tour-step-count{font-size:12px;color:var(--text-muted)}
.tour-next{background:var(--accent);color:#fff;border:none;padding:8px 18px;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;font-family:inherit}
.tour-next:active{transform:scale(.96)}
@keyframes obFade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* ── Getting Started Checklist ── */
.onboarding-checklist{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:16px}
.checklist-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.checklist-title{font-size:16px;font-weight:700;color:var(--text-primary)}
.checklist-dismiss{background:none;border:none;color:var(--text-muted);font-size:13px;cursor:pointer;font-family:inherit;padding:4px 0}
.checklist-dismiss:hover{color:var(--text-secondary)}
.checklist-progress{display:flex;align-items:center;gap:10px;margin-bottom:14px}
.checklist-progress-bar{flex:1;height:6px;background:var(--bg-elevated);border-radius:3px;overflow:hidden}
.checklist-progress-fill{height:100%;background:var(--accent);border-radius:3px;transition:width .4s ease}
.checklist-progress-text{font-size:12px;color:var(--text-muted);white-space:nowrap}
.checklist-item{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:background .15s}
.checklist-item:last-child{border-bottom:none}
.checklist-check{width:24px;height:24px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s ease}
.checklist-item.done .checklist-check{background:var(--accent);border-color:var(--accent)}
.checklist-item.done .checklist-check svg{display:block}
.checklist-check svg{display:none;width:14px;height:14px;fill:#fff}
.checklist-text{flex:1;min-width:0}
.checklist-text-title{font-size:14px;font-weight:500;color:var(--text-primary)}
.checklist-item.done .checklist-text-title{color:var(--text-muted);text-decoration:line-through}
.checklist-text-desc{font-size:12px;color:var(--text-muted);margin-top:1px}
.checklist-arrow{color:var(--text-muted);flex-shrink:0}
.checklist-item.done .checklist-arrow{display:none}

/* ── Empty States ── */
.empty-state{display:flex;flex-direction:column;align-items:center;text-align:center;padding:32px 20px}
.empty-state-icon{margin-bottom:12px;opacity:.5}
.empty-state-title{font-size:15px;font-weight:600;color:var(--text-primary);margin-bottom:4px}
.empty-state-desc{font-size:13px;color:var(--text-muted);line-height:1.5;max-width:280px;margin-bottom:16px}
.empty-state-btn{padding:10px 20px;background:var(--accent);color:#fff;border:none;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;font-family:inherit;transition:transform .15s}
.empty-state-btn:active{transform:scale(.96)}

/* Welcome Screen */
.welcome-screen{position:fixed;inset:0;z-index:310;background:var(--bg-base);display:none;align-items:center;justify-content:center;padding:24px;padding-top:calc(24px + env(safe-area-inset-top));padding-bottom:calc(24px + env(safe-area-inset-bottom))}
.welcome-screen.show{display:flex}
.welcome-inner{text-align:center;max-width:380px;width:100%;animation:obSlideUp .5s cubic-bezier(.16,1,.3,1)}
.welcome-logo{margin-bottom:20px}
.welcome-title{font-size:26px;font-weight:700;color:var(--text-primary);margin-bottom:8px}
.welcome-subtitle{font-size:15px;color:var(--text-muted);line-height:1.6;margin-bottom:28px}
.welcome-features{display:flex;flex-direction:column;gap:12px;text-align:left;margin-bottom:32px;padding:0 8px}
.welcome-feature{display:flex;align-items:center;gap:12px;font-size:14px;color:var(--text-secondary)}
.welcome-feature-icon{width:36px;height:36px;border-radius:10px;background:var(--accent-subtle);display:flex;align-items:center;justify-content:center;flex-shrink:0}
.welcome-cta{width:100%;padding:16px;background:var(--accent);color:#fff;border:none;border-radius:14px;font-size:17px;font-weight:600;cursor:pointer;font-family:inherit;transition:transform .15s}
.welcome-cta:active{transform:scale(.97)}
.welcome-time{font-size:12px;color:var(--text-muted);margin-top:12px}

/* Onboarding Wizard */
.ob-wizard{position:fixed;inset:0;background:rgba(0,0,0,.92);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);z-index:300;display:none;align-items:center;justify-content:center;padding:20px}
.ob-wizard.show{display:flex}
.ob-wizard-inner{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;width:100%;max-width:min(480px, calc(100vw - 32px));overflow:hidden;animation:obSlideUp .4s cubic-bezier(.16,1,.3,1)}
@keyframes obSlideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.ob-progress{display:flex;gap:6px;padding:20px 24px 0}
.ob-progress-bar{flex:1;height:4px;border-radius:2px;background:var(--bg-elevated);transition:background .3s}
.ob-progress-bar.active,.ob-progress-bar.done{background:var(--accent)}
.ob-step{display:none;padding:24px}
.ob-step.active{display:block;animation:obFade .3s ease}
@keyframes obFade{from{opacity:0;transform:translateX(10px)}to{opacity:1;transform:translateX(0)}}
.ob-step h2{font-size:22px;font-weight:700;color:var(--text-primary);margin:0 0 4px}
.ob-step p.ob-desc{color:var(--text-muted);font-size:14px;margin:0 0 20px}
.ob-field{margin-bottom:14px}
.ob-field label{display:block;font-size:13px;font-weight:600;color:var(--text-secondary);margin-bottom:6px}
.ob-field input{width:100%;padding:12px 14px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;color:var(--text-primary);font-size:15px;outline:none;transition:border .2s}
.ob-field input:focus{border-color:var(--accent)}
.ob-actions{display:flex;gap:10px;padding:0 24px 24px}
.ob-btn-primary{flex:1;padding:14px;background:linear-gradient(135deg,var(--accent),var(--accent-secondary));color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .15s}
.ob-btn-primary:active{transform:scale(.97)}
.ob-btn-primary:disabled{opacity:.5;cursor:wait}
.ob-btn-secondary{padding:14px 20px;background:var(--bg-elevated);color:var(--text-secondary);border:1px solid var(--border);border-radius:12px;font-size:15px;cursor:pointer}
.ob-templates{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:4px}
.ob-tpl{border-radius:10px;padding:24px 8px 10px;text-align:center;cursor:pointer;border:2px solid transparent;transition:border .2s,transform .15s}
.ob-tpl:hover{transform:scale(1.05)}
.ob-tpl.selected{border-color:#fff}
.ob-tpl-name{font-size:11px;color:var(--text-primary);font-weight:600;margin-top:4px}
.ob-share{text-align:center;padding:8px 0}
.ob-share-qr{margin:16px auto;width:180px;height:180px;background:var(--bg-elevated);border-radius:12px;display:flex;align-items:center;justify-content:center}
.ob-share-link{display:flex;gap:8px;margin:16px 0}
.ob-share-link input{flex:1;padding:10px 12px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:8px;color:var(--text-primary);font-size:13px;outline:none}
.ob-share-link button{padding:10px 16px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;font-size:13px}
.ob-field input.ob-field-error{border-color:var(--danger);background:rgba(239,68,68,.05)}
.ob-preview-card{border-radius:12px;padding:20px;margin-bottom:16px;text-align:center;transition:background .3s ease}
.ob-preview-name{font-size:18px;font-weight:700;color:#fff}
.ob-preview-title{font-size:13px;color:rgba(255,255,255,.7);margin-top:4px}
.ob-done-icon{margin-bottom:12px}
.ob-share-wa{width:100%;padding:12px;margin-top:8px;background:#25D366;color:#fff;border:none;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:8px}
.ob-share-wa:active{opacity:.85}
.ob-checklist-hint{font-size:12px;color:var(--text-muted);margin-top:16px}
@media(max-width:420px){.ob-templates{grid-template-columns:repeat(3,1fr)}}

/* ── Team Panel ── */
.team-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px}
.team-stat{text-align:center;padding:14px 8px;background:var(--bg-elevated);border-radius:10px}
.team-stat-num{font-size:24px;font-weight:700;color:var(--accent-light)}
.team-stat-label{font-size:12px;color:var(--text-muted);margin-top:2px}
.team-member{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-elevated);border-radius:10px;margin-bottom:8px}
.team-member-avatar{width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent-secondary));display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:#fff;flex-shrink:0}
.team-member-info{flex:1;min-width:0}
.team-member-name{font-size:14px;font-weight:600;color:var(--text-primary)}
.team-member-meta{font-size:12px;color:var(--text-muted)}
.team-member-badge{font-size:11px;padding:2px 8px;border-radius:10px;background:var(--accent-subtle);color:var(--accent-light);font-weight:600}
.team-member-remove{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:6px;font-size:18px;opacity:.5}
.team-member-remove:hover{opacity:1;color:#ef4444}
.team-invite-row{display:flex;gap:8px;margin-bottom:16px}
.team-invite-row input{flex:1;padding:10px 14px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;color:var(--text-primary);font-size:14px;outline:none}
.team-invite-row button{padding:10px 18px;background:var(--accent);color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;font-size:14px;white-space:nowrap}
.team-pending{padding:8px 12px;background:rgba(245,158,11,.08);border-radius:8px;margin-bottom:6px;display:flex;align-items:center;justify-content:space-between;font-size:13px;color:var(--text-secondary)}

/* ── Sent Exchange Badge ── */
.exchange-badge-sm.sent{background:var(--accent-subtle,rgba(99,102,241,.12));color:var(--accent-light,#818cf8)}

/* ── Email Signature Generator Modal ── */
.sig-modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:260;padding:20px;padding-bottom:calc(20px + env(safe-area-inset-bottom));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.sig-modal.show{display:flex}
.sig-content{background:var(--bg-elevated);border-radius:20px;width:100%;max-width:min(520px, calc(100vw - 40px));max-height:90vh;overflow-y:auto;border:1px solid var(--glass-hover)}
.sig-header{padding:20px;border-bottom:1px solid var(--glass-border);display:flex;justify-content:space-between;align-items:center}
.sig-header h3{font-size:17px;font-weight:600}
.sig-close{background:none;border:none;color:var(--glass-text);font-size:24px;cursor:pointer}
.sig-body{padding:20px}
.sig-select-row{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.sig-select-row select{flex:1;background:var(--glass-border) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='%2394A3B8'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") no-repeat right 10px center;color:var(--text-primary);border:none;border-radius:8px;padding:10px 32px 10px 12px;font-family:inherit;font-size:13px;font-weight:500;-webkit-appearance:none;appearance:none;cursor:pointer}
.sig-select-row select option{background:var(--bg-elevated);color:var(--text-primary)}
.sig-preview{background:#fff;border-radius:12px;padding:20px;margin-bottom:16px;overflow:hidden}
.sig-preview table{border-collapse:collapse;font-family:Arial,Helvetica,sans-serif}
.sig-preview td{vertical-align:top}
.sig-actions{display:flex;gap:10px}
.sig-copy-btn{flex:1;padding:14px;border:none;border-radius:12px;background:var(--accent);color:#fff;font-family:inherit;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s}
.sig-copy-btn:active{transform:scale(.97)}
.sig-copy-btn.copied{background:var(--success)}
.sig-copy-btn svg{width:18px;height:18px;fill:currentColor}
.sig-setup-toggle{margin-top:16px;font-size:13px;color:var(--accent-light);cursor:pointer;display:flex;align-items:center;gap:6px;border:none;background:none;font-family:inherit;padding:0}
.sig-setup-toggle svg{width:14px;height:14px;fill:currentColor;transition:transform .3s}
.sig-setup-toggle.open svg{transform:rotate(180deg)}
.sig-setup-guide{max-height:0;overflow:hidden;transition:max-height .3s ease}
.sig-setup-guide.open{max-height:400px}
.sig-setup-guide-inner{padding-top:12px}
.sig-setup-step{padding:10px 0;border-bottom:1px solid var(--glass-border);font-size:13px;color:var(--text-secondary)}
.sig-setup-step:last-child{border-bottom:none}
.sig-setup-step strong{color:var(--text-primary);display:block;margin-bottom:4px}

/* ── Card Templates ── */
.template-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:16px}
.template-card{border-radius:12px;padding:16px 14px;cursor:pointer;border:2px solid transparent;transition:all .2s;position:relative;overflow:hidden;text-align:center}
.template-card:active{transform:scale(.97)}
.template-card.selected{border-color:#fff;box-shadow:0 0 0 2px var(--text-muted)}
.template-card::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse 80% 50% at 25% 15%,var(--glass-hover),transparent);pointer-events:none}
.template-name{font-size:12px;font-weight:600;color:#fff;position:relative;z-index:1}
.template-label{font-size:10px;color:var(--glass-text);margin-top:2px;position:relative;z-index:1}
.template-check{position:absolute;top:8px;right:8px;width:20px;height:20px;border-radius:50%;background:#fff;display:none;align-items:center;justify-content:center}
.template-card.selected .template-check{display:flex}
.template-check svg{width:12px;height:12px}

/* ═══ DASHBOARD UI POLISH ═══ */

/* ── Global smooth transitions ── */
html{scroll-behavior:smooth}
.main-content{scroll-behavior:smooth}
button,a,.stat-card,.activity-item,.nav-item,.tab-item,.settings-item,.settings-group{
    transition:all .2s ease;
}

/* ── Page transitions (fade-in via animation) ── */
@keyframes pageFadeIn{
    from{opacity:0;transform:translateY(6px)}
    to{opacity:1;transform:translateY(0)}
}
.page.active{
    animation:pageFadeIn .25s ease both;
}

/* ── Stats Row Polish ── */
.stat-card{
    position:relative;
    border-left:3px solid transparent;
    transition:transform .2s ease,box-shadow .2s ease;
}
.stat-card:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 24px rgba(0,0,0,.25);
}
.stat-card:nth-child(1){
    background:linear-gradient(135deg,var(--bg-card),var(--accent-subtle));
    border-left-color:var(--accent-light);
}
.stat-card:nth-child(2){
    background:linear-gradient(135deg,var(--bg-card),rgba(74,222,128,.06));
    border-left-color:#4ade80;
}
.stat-card:nth-child(3){
    background:linear-gradient(135deg,var(--bg-card),rgba(251,191,36,.06));
    border-left-color:#fbbf24;
}
/* Better skeleton in stat cards */
.stat-card .skeleton{border-radius:8px}

/* ── Quick Share Section Card Container ── */
#dashQuickShare > div:last-child{
    background:var(--bg-card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:18px;
}
#dashQuickShare .qr-card{
    background:var(--glass-bg);
    border-right:1px solid var(--border);
    padding-right:16px;
    margin:0;
}
@media(max-width:560px){
    #dashQuickShare .qr-card{border-right:none;border-bottom:1px solid var(--border);padding-right:0;padding-bottom:16px}
}
.qs-side-panel{display:flex;flex-direction:column;gap:8px;flex:1;min-width:180px}
@media(max-width:560px){.qs-side-panel{display:none}}
#statusBadges{line-height:1.8}


/* ── Activity Feed Polish ── */
.activity-item{
    border-radius:8px;
    padding:12px 10px;
    margin:0 -10px;
    transition:background .15s ease;
}
.activity-item:hover{
    background:var(--glass-bg);
}
/* Color-coded dots */
.activity-dot.dot-lead{background:#10b981}
.activity-dot.dot-tap{background:#60a5fa}
.activity-dot.dot-share{background:#c084fc}
/* Activity feed max-height + fade */
.activity-list{
    max-height:380px;
    overflow-y:auto;
    position:relative;
    -webkit-mask-image:linear-gradient(to bottom,#000 85%,transparent 100%);
    mask-image:linear-gradient(to bottom,#000 85%,transparent 100%);
}
.activity-list::-webkit-scrollbar{width:8px}
.activity-list::-webkit-scrollbar-track{background:transparent}
.activity-list::-webkit-scrollbar-thumb{background:var(--bg-elevated);border-radius:2px}
/* Empty activity state */
.activity-empty{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
    padding:32px 24px;
    text-align:center;
    color:var(--text-muted);
    font-size:14px;
}
.activity-empty svg{width:32px;height:32px;fill:var(--text-muted);opacity:.35;margin-bottom:4px}

/* ── Sidebar & Navigation Polish ── */
.sidebar{
    border-right:1px solid rgba(30,41,59,.7);
}
.sidebar-brand{
    border-bottom:1px solid rgba(30,41,59,.5);
    padding-bottom:18px;
    margin-bottom:2px;
}
.nav-item{
    transition:all .2s ease;
    position:relative;
    border-left:3px solid transparent;
    margin-left:-3px;
}
.nav-item:hover{
    background:var(--bg-hover);
    color:var(--text-primary);
}
.nav-item.active{
    background:var(--accent-subtle);
    color:var(--accent-light);
    border-left-color:var(--accent);
    box-shadow:inset 0 0 12px var(--accent-subtle);
}
.nav-item.active svg{opacity:1;filter:drop-shadow(0 0 3px var(--accent-glow))}

/* Tablet collapsed sidebar — tooltip via title attr */
@media(min-width:768px) and (max-width:1024px){
    .nav-item{border-left:none;margin-left:0}
    .nav-item.active{border-bottom:2px solid var(--accent);border-left:none}
    .nav-item[title]{position:relative}
}

/* ── Mobile Bottom Tab Bar ── */
.bottom-tabs{
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    background:var(--bg-sticky);
}
.tab-item{
    position:relative;
    padding:6px 0 4px;
    min-height:0;
    transition:color .2s ease;
}
.tab-item.active::before{
    content:'';
    position:absolute;
    top:0;
    left:50%;
    transform:translateX(-50%);
    width:20px;
    height:2px;
    border-radius:0 0 2px 2px;
    background:var(--accent-light);
}
.tab-item svg{width:22px;height:22px}

/* ── Pro Trial Banner Shimmer ── */
#proTrialBanner button:last-child{
    position:relative;
    overflow:hidden;
}
#proTrialBanner button:last-child::after{
    content:'';
    position:absolute;
    top:0;left:-100%;
    width:60%;height:100%;
    background:linear-gradient(90deg,transparent,var(--glass-hover),transparent);
    animation:shimmerCta 3s ease-in-out infinite;
}
@keyframes shimmerCta{0%{left:-100%}50%{left:100%}100%{left:100%}}

/* ── Lead Usage Bar Animation ── */
#leadUsageFill{
    transition:width .8s cubic-bezier(.4,0,.2,1),background .5s ease;
}

/* ── Loading Screen Fade ── */
#loadingScreen{
    animation:loadFadeIn .3s ease;
}
@keyframes loadFadeIn{from{opacity:0}to{opacity:1}}

/* ── Version Tag Polish ── */
.version-tag{
    font-size:10px;
    color:var(--glass-hover);
    padding:6px 10px;
    border-radius:6px;
    transition:color .2s ease,background .2s ease;
}
.version-tag:hover{
    color:var(--text-muted);
    background:var(--glass-bg);
}

/* ── Border Radius Consistency ── */
.stat-card,.settings-group,.onboarding-welcome{border-radius:14px}
#leadUsageBar{border-radius:14px}
#proTrialBanner{border-radius:14px}

/* ── NFC Tap-to-Share ── */
.nfc-share-btn{
    display:flex;align-items:center;gap:10px;
    width:100%;padding:12px 14px;margin-top:8px;
    background:var(--bg-elevated);
    border:1.5px solid var(--accent-glow);
    border-radius:12px;cursor:pointer;
    font-family:inherit;font-size:13px;font-weight:600;
    color:var(--text-primary);
    transition:all .2s ease;
}
.nfc-share-btn:active{transform:scale(.97);background:var(--bg-hover)}
.nfc-share-btn svg{width:22px;height:22px;fill:var(--accent-light);flex-shrink:0}
.nfc-share-badge{
    margin-left:auto;
    padding:2px 8px;border-radius:6px;
    font-size:10px;font-weight:700;letter-spacing:.5px;
    background:var(--accent-subtle);color:var(--accent-light);
}
/* NFC FAB */
.nfc-fab{
    display:none;position:fixed;
    right:20px;bottom:calc(70px + env(safe-area-inset-bottom));
    width:56px;height:56px;border-radius:50%;
    background:linear-gradient(135deg,var(--accent),var(--accent-secondary));
    border:none;cursor:pointer;z-index:99;
    box-shadow:0 4px 20px var(--accent-glow);
    align-items:center;justify-content:center;
    transition:transform .2s ease,opacity .2s ease;
}
.nfc-fab:active{transform:scale(.9)}
.nfc-fab svg{width:28px;height:28px;fill:#fff}
@media(max-width:767px){
    .nfc-fab.visible{display:flex}
}
/* NFC Overlay */
.nfc-overlay{
    display:none;position:fixed;inset:0;
    background:rgba(0,0,0,.85);
    z-index:250;
    align-items:center;justify-content:center;
    flex-direction:column;gap:24px;
    backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
}
.nfc-overlay.show{display:flex}
.nfc-rings{position:relative;width:180px;height:180px}
.nfc-ring{
    position:absolute;inset:0;
    border:2px solid var(--accent-glow);
    border-radius:50%;
    animation:nfcPulse 2s ease-out infinite;
}
.nfc-ring:nth-child(2){animation-delay:.4s}
.nfc-ring:nth-child(3){animation-delay:.8s}
@keyframes nfcPulse{
    0%{transform:scale(.5);opacity:1}
    100%{transform:scale(1.3);opacity:0}
}
.nfc-rings-icon{
    position:absolute;top:50%;left:50%;
    transform:translate(-50%,-50%);
    width:56px;height:56px;
    background:linear-gradient(135deg,var(--accent),var(--accent-secondary));
    border-radius:50%;
    display:flex;align-items:center;justify-content:center;
}
.nfc-rings-icon svg{width:30px;height:30px;fill:#fff}
.nfc-overlay-text{
    font-size:18px;font-weight:600;
    color:var(--text-primary);text-align:center;
}
.nfc-overlay-sub{
    font-size:13px;color:var(--text-muted);
    text-align:center;margin-top:-16px;
}
.nfc-overlay-card{
    background:var(--bg-elevated);
    border:1px solid var(--border);
    border-radius:12px;padding:12px 20px;
    font-size:13px;color:var(--text-secondary);
    text-align:center;max-width:260px;
}
.nfc-overlay-cancel{
    padding:12px 32px;
    background:var(--glass-hover);
    border:none;border-radius:12px;
    color:#fff;font-family:inherit;
    font-size:14px;font-weight:600;
    cursor:pointer;
}
.nfc-overlay-cancel:active{background:var(--glass-hover)}
/* Success state */
.nfc-overlay.success .nfc-ring{border-color:rgba(16,185,129,.4)}
.nfc-overlay.success .nfc-rings-icon{background:linear-gradient(135deg,#10b981,#059669)}
/* Fallback state */
.nfc-fallback{
    display:flex;flex-direction:column;
    align-items:center;gap:16px;
    max-width:300px;
}
.nfc-fallback-qr{
    background:#fff;border-radius:12px;padding:12px;
}
.nfc-fallback-qr canvas{display:block}
.nfc-fallback-share{
    display:flex;gap:10px;width:100%;
}
.nfc-fallback-share button{
    flex:1;padding:12px;
    border:none;border-radius:10px;
    font-family:inherit;font-size:13px;font-weight:600;
    cursor:pointer;
}
.nfc-fallback-share .nfc-share-link{
    background:var(--accent);color:#fff;
}
.nfc-fallback-share .nfc-close-fb{
    background:var(--glass-hover);color:#fff;
}

/* ── Cards Segmented Control ── */
.cards-segment-control{
    display:flex;background:var(--bg-elevated);border-radius:10px;
    padding:3px;margin-bottom:16px;gap:2px;
}
.cards-segment-tab{
    flex:1;padding:8px 0;text-align:center;font-size:13px;font-weight:600;
    color:var(--text-muted);background:none;border:none;border-radius:8px;
    cursor:pointer;transition:all .2s;font-family:inherit;
}
.cards-segment-tab.active{
    background:var(--bg-card);color:var(--text-primary);box-shadow:0 1px 3px rgba(0,0,0,.2);
}
.cards-tab-content{display:none}
.cards-tab-content.active{display:block}

/* Background scan indicator */
.bg-scan-indicator{position:fixed;bottom:80px;right:16px;background:var(--bg-card);border:1px solid var(--border);border-radius:24px;padding:8px 16px 8px 12px;font-size:13px;font-weight:500;color:var(--text-primary);box-shadow:var(--shadow-md);z-index:200;display:flex;align-items:center;gap:8px;animation:bgSlideIn .3s ease}
.bg-scan-spinner{width:16px;height:16px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:lspin 0.8s linear infinite;flex-shrink:0}
@keyframes bgSlideIn{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
@media(display-mode:standalone){.bg-scan-indicator{bottom:100px}}

/* ── Saved Views ── */
.saved-views-drop{
    position:absolute;top:100%;right:0;margin-top:4px;
    background:var(--bg-elevated);border:1px solid var(--border);border-radius:10px;
    min-width:200px;z-index:50;box-shadow:0 8px 24px rgba(0,0,0,.3);overflow:hidden;
}
.sv-item{
    display:flex;align-items:center;gap:8px;padding:10px 14px;cursor:pointer;
    border-bottom:1px solid rgba(255,255,255,.04);
}
.sv-item:hover{background:var(--bg-hover)}
.sv-item.active{color:var(--accent-light);font-weight:600}
.sv-item-name{flex:1;min-width:0;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.sv-item-count{font-size:11px;color:var(--text-muted)}
.sv-item-del{background:none;border:none;color:var(--text-muted);font-size:14px;cursor:pointer;padding:2px 4px;opacity:.4;flex-shrink:0}
.sv-item-del:hover{opacity:1;color:#f87171}
.sv-save-row{
    display:flex;gap:6px;padding:8px 10px;border-top:1px solid var(--border);
}
.sv-save-row input{
    flex:1;min-width:0;background:var(--glass-border);border:1px solid var(--glass-hover);
    border-radius:6px;color:var(--text-primary);font-family:inherit;font-size:12px;padding:8px 10px;outline:none;
}
.sv-save-row button{
    font-size:12px;padding:8px 12px;border-radius:6px;border:none;
    background:var(--accent);color:#fff;cursor:pointer;font-family:inherit;font-weight:600;white-space:nowrap;
}
.sv-active-badge{
    display:inline-flex;align-items:center;gap:4px;padding:4px 10px;
    background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.25);border-radius:16px;
    font-size:11px;color:#818cf8;font-weight:600;white-space:nowrap;
}
.sv-active-badge button{
    background:none;border:none;color:#818cf8;font-size:12px;cursor:pointer;padding:0 2px;font-weight:700;
}

/* ── Team Activity Feed ── */
.team-feed-item{
    display:flex;gap:10px;align-items:flex-start;padding:10px 0;
    border-bottom:1px solid var(--border);
}
.team-feed-item:last-child{border-bottom:none}
.team-feed-avatar{
    width:32px;height:32px;border-radius:50%;flex-shrink:0;
    background:linear-gradient(135deg,#6366f1,#8b5cf6);
    display:flex;align-items:center;justify-content:center;
    font-size:12px;font-weight:700;color:#fff;
}
.team-feed-body{flex:1;min-width:0}
.team-feed-line{font-size:13px;color:var(--text-primary);line-height:1.4}
.team-feed-line strong{font-weight:600}
.team-feed-meta{font-size:11px;color:var(--text-muted);margin-top:2px;display:flex;gap:8px;align-items:center}
.team-feed-badge{
    font-size:10px;padding:1px 6px;border-radius:4px;font-weight:600;
    background:rgba(99,102,241,.12);color:#818cf8;
}
.team-feed-new{animation:teamFeedIn .4s ease}
@keyframes teamFeedIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}

/* Actionable toast */
.toast-actionable{pointer-events:auto;cursor:pointer}



